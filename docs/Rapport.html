<!DOCTYPE html><html><head>
      <title>Rapport</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\Ced.DESKTOP-91LBBJG\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.18\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="rapport-cédric-bossé---application-caisse-multi-utilisateurs">Rapport Cédric Bossé - Application Caisse Multi-utilisateurs </h1>
<hr>
<h2>Répositoire github : <a href="https://github.com/CedricBosseETS/Lab0_CedricBosse/tree/ajout-microservices">https://github.com/CedricBosseETS/Lab0_CedricBosse/tree/ajout-microservices</a></h2>
<h2 id="1-introduction-et-objectifs">1. Introduction et objectifs </h2>
<p>Durant la dernière remise de ce projet, j’ai mentionné ne pas avoir terminé la mise en place prévue, notamment à cause d’un fort couplage du code initial, de problèmes de communication interne entre microservices (erreurs 401 Unauthorized) et d’un manque de temps global. Ultimement, on pourrait aussi dire qu'un mauvais respect et découpage de responsabilités selon DDD as été effectué dans les premières étapes de ce projet et ça ma finalement rattrapé. Je n’ai donc pas pu entreprendre la prochaine étape d’évolution, qui consistait à intégrer une Saga orchestrée synchrone pour coordonner des transactions distribuées, suivie de l’implémentation d’une architecture événementielle basée sur Pub/Sub, Event Sourcing, CQRS et une Saga chorégraphiée. Ces améliorations visent à renforcer le découplage, la résilience, l’historisation des événements métiers et l’observabilité du système.<br>
Pour le biens de la lisisbilité de ce rapport, même si ce qui est écrit n'est pas réalisé, il sera mentionné comme si ce l'était. Par example "les services exposent une api documentées". Ça représente ce qu'ultimement j'aurais aimer réaliser.</p>
<hr>
<h2 id="2-contraintes">2. Contraintes </h2>
<ul>
<li>Les mécanismes de rollback partiel doivent être intégrés pour gérer les échecs à une étape de la transaction distribuée.</li>
<li>La machine d’état de la commande doit refléter en temps réel la progression du processus et être persistée pour reprise après incident.</li>
<li>Les APIs des différents services doivent être adaptées pour supporter les échanges synchrones de l’orchestrateur tout en restant compatibles avec les clients existants.</li>
<li>Mettre en place un service orchestrateur.</li>
</ul>
<hr>
<h2 id="3-contexte">3. Contexte </h2>
<p>Dans son état actuel, l'application utilise des appels à travers les API respectives de chaque service pour communiquer entre eux. Il s'agit d'une mauvaise pratique et doit être remplacé par l'utilisation de Sagas, our plusieurs raisons. Ça va permettre de garantir la cohérence transactionnelle entre microservices, réduire les risques d’incohérences de données, améliorer la résilience face aux échecs partiels et offrir une meilleure traçabilité des étapes métier.</p>
<hr>
<h2 id="4-stratégie-de-solution">4. Stratégie de solution </h2>
<p>Pour atteindre les objectifs visés, la première étape consistera à mettre en place un service orchestrateur centralisé, chargé de coordonner les transactions distribuées entre les différents microservices. Chaque étape du processus métier (vérification de stock, réservation, paiement, confirmation) sera exécutée via des appels synchrones, tout en assurant une gestion stricte des statuts de commande et des transitions d’état persistées. Ce service intégrera également des mécanismes de rollback partiel pour compenser les opérations en cas d’échec.</p>
<p>Ensuite, les APIs des services impliqués seront adaptées pour supporter la communication orchestrée. Les endpoints existants seront enrichis ou complétés afin de fournir les données nécessaires à l’orchestrateur, tout en restant compatibles avec les intégrations déjà en place. Un schéma clair des flux de données sera établi pour éviter toute ambiguïté dans les échanges inter-services.</p>
<p>En parallèle, une couche de traçabilité et d’observabilité sera mise en place afin de suivre l’exécution des transactions en temps réel. Les événements métier et les transitions d’état seront journalisés de manière centralisée, permettant d’identifier rapidement les points de défaillance et de faciliter le débogage. Cette instrumentation viendra compléter les métriques déjà collectées par Prometheus et Grafana pour offrir une vue complète de la santé du système.</p>
<hr>
<h2 id="5-vue-des-blocs-de-construction">5. Vue des blocs de construction </h2>
<p>L’architecture cible repose sur un ensemble de microservices spécialisés, chacun encapsulant un domaine fonctionnel précis :</p>
<ul>
<li>Service Produits : gestion des informations produit (catalogue, prix, attributs).</li>
<li>Service Stocks : suivi des quantités disponibles et opérations de réservation.</li>
<li>Service Ventes : enregistrement et suivi des transactions de vente.</li>
<li>Service Panier : gestion temporaire des articles sélectionnés par les clients avant validation.</li>
<li>Service Reporting : génération de rapports et indicateurs métiers.</li>
<li>Service Orchestrateur Synchrone : coordination des étapes critiques des processus métiers distribués (ex. : création de commande), gestion des transitions d’état et exécution de compensations en cas d’échec.</li>
</ul>
<p>Chaque service est déployé dans son propre conteneur Docker et expose une API REST documentée (Swagger/OpenAPI). Les communications inter-services passent par une API Gateway basée sur Nginx, assurant un point d’entrée unique, la gestion des CORS, la journalisation et le routage interne.</p>
<p>Un cache Redis est utilisé pour accélérer les requêtes fréquentes (notamment sur les stocks) et réduire la charge sur les bases de données relationnelles. L’observabilité serait assurée via Prometheus et Grafana, offrant un suivi des métriques essentielles et un diagnostic rapide des incidents. Enfin, un load balancer intégré à la configuration Nginx permet de répartir le trafic entre plusieurs instances d’un même service afin d’augmenter la résilience et la capacité de montée en charge.</p>
<p>Vue de développement, diagramme des composantes :<br>
Comme le diagramme est trop gros, une image sera inclus lors de la remise.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1094px" preserveAspectRatio="none" style="width:3305px;height:1094px;background:#FFFFFF;" version="1.1" viewBox="0 0 3305 1094" width="3305px" zoomAndPan="magnify"><title>Diagramme des composantes - Architecture Microservices POS + Saga &amp; Événementielle</title><defs></defs><g><g class="title" data-source-line="3"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="593.2979" x="1348.8511" y="24.5332">Diagramme des composantes - Architecture Microservices POS + Saga &amp; Événementielle</text></g><!--cluster Client Web--><g class="cluster" data-entity="Client Web" data-source-line="5" data-uid="ent0002" id="cluster_Client Web"><path d="M1750.5,44.6094 L1823.8311,44.6094 A3.75,3.75 0 0 1 1826.3311,47.1094 L1833.3311,68.2188 L1945.5,68.2188 A2.5,2.5 0 0 1 1948,70.7188 L1948,162.1094 A2.5,2.5 0 0 1 1945.5,164.6094 L1750.5,164.6094 A2.5,2.5 0 0 1 1748,162.1094 L1748,47.1094 A2.5,2.5 0 0 1 1750.5,44.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1748" x2="1833.3311" y1="68.2188" y2="68.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="72.3311" x="1752" y="61.1426">Client Web</text></g><!--cluster Event Infrastructure--><g class="cluster" data-entity="Event Infrastructure" data-source-line="14" data-uid="ent0007" id="cluster_Event Infrastructure"><path d="M1723.5,703.6094 L1857.5342,703.6094 A3.75,3.75 0 0 1 1860.0342,706.1094 L1867.0342,727.2188 L2014.5,727.2188 A2.5,2.5 0 0 1 2017,729.7188 L2017,981.1094 A2.5,2.5 0 0 1 2014.5,983.6094 L1723.5,983.6094 A2.5,2.5 0 0 1 1721,981.1094 L1721,706.1094 A2.5,2.5 0 0 1 1723.5,703.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1721" x2="1867.0342" y1="727.2188" y2="727.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="133.0342" x="1725" y="720.1426">Event Infrastructure</text></g><!--cluster Saga Orchestrateur--><g class="cluster" data-entity="Saga Orchestrateur" data-source-line="20" data-uid="ent0011" id="cluster_Saga Orchestrateur"><path d="M228.5,197.6094 L359.4443,197.6094 A3.75,3.75 0 0 1 361.9443,200.1094 L368.9443,221.2188 L417.5,221.2188 A2.5,2.5 0 0 1 420,223.7188 L420,332.1094 A2.5,2.5 0 0 1 417.5,334.6094 L228.5,334.6094 A2.5,2.5 0 0 1 226,332.1094 L226,200.1094 A2.5,2.5 0 0 1 228.5,197.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="226" x2="368.9443" y1="221.2188" y2="221.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="129.9443" x="230" y="214.1426">Saga Orchestrateur</text></g><!--cluster Service Caisse--><g class="cluster" data-entity="Service Caisse" data-source-line="24" data-uid="ent0013" id="cluster_Service Caisse"><path d="M8.5,535.6094 L108.3545,535.6094 A3.75,3.75 0 0 1 110.8545,538.1094 L117.8545,559.2188 L181.5,559.2188 A2.5,2.5 0 0 1 184,561.7188 L184,972.6094 A2.5,2.5 0 0 1 181.5,975.1094 L8.5,975.1094 A2.5,2.5 0 0 1 6,972.6094 L6,538.1094 A2.5,2.5 0 0 1 8.5,535.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="117.8545" y1="559.2188" y2="559.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="98.8545" x="10" y="552.1426">Service Caisse</text></g><!--cluster Produit Service--><g class="cluster" data-entity="Produit Service" data-source-line="30" data-uid="ent0017" id="cluster_Produit Service"><path d="M3120.5,384.6094 L3224.2031,384.6094 A3.75,3.75 0 0 1 3226.7031,387.1094 L3233.7031,408.2188 L3295.5,408.2188 A2.5,2.5 0 0 1 3298,410.7188 L3298,829.6094 A2.5,2.5 0 0 1 3295.5,832.1094 L3120.5,832.1094 A2.5,2.5 0 0 1 3118,829.6094 L3118,387.1094 A2.5,2.5 0 0 1 3120.5,384.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="3118" x2="3233.7031" y1="408.2188" y2="408.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102.7031" x="3122" y="401.1426">Produit Service</text></g><!--cluster Stock Service--><g class="cluster" data-entity="Stock Service" data-source-line="36" data-uid="ent0021" id="cluster_Stock Service"><path d="M1191.5,384.6094 L1284.334,384.6094 A3.75,3.75 0 0 1 1286.834,387.1094 L1293.834,408.2188 L1356.5,408.2188 A2.5,2.5 0 0 1 1359,410.7188 L1359,829.6094 A2.5,2.5 0 0 1 1356.5,832.1094 L1191.5,832.1094 A2.5,2.5 0 0 1 1189,829.6094 L1189,387.1094 A2.5,2.5 0 0 1 1191.5,384.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1189" x2="1293.834" y1="408.2188" y2="408.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91.834" x="1193" y="401.1426">Stock Service</text></g><!--cluster Vente Service--><g class="cluster" data-entity="Vente Service" data-source-line="42" data-uid="ent0025" id="cluster_Vente Service"><path d="M210.5,535.6094 L303.334,535.6094 A3.75,3.75 0 0 1 305.834,538.1094 L312.834,559.2188 L377.5,559.2188 A2.5,2.5 0 0 1 380,561.7188 L380,972.6094 A2.5,2.5 0 0 1 377.5,975.1094 L210.5,975.1094 A2.5,2.5 0 0 1 208,972.6094 L208,538.1094 A2.5,2.5 0 0 1 210.5,535.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="208" x2="312.834" y1="559.2188" y2="559.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="91.834" x="212" y="552.1426">Vente Service</text></g><!--cluster Panier Service--><g class="cluster" data-entity="Panier Service" data-source-line="48" data-uid="ent0029" id="cluster_Panier Service"><path d="M2889.5,384.6094 L2987.0098,384.6094 A3.75,3.75 0 0 1 2989.5098,387.1094 L2996.5098,408.2188 L3060.5,408.2188 A2.5,2.5 0 0 1 3063,410.7188 L3063,829.6094 A2.5,2.5 0 0 1 3060.5,832.1094 L2889.5,832.1094 A2.5,2.5 0 0 1 2887,829.6094 L2887,387.1094 A2.5,2.5 0 0 1 2889.5,384.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="2887" x2="2996.5098" y1="408.2188" y2="408.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="96.5098" x="2891" y="401.1426">Panier Service</text></g><!--cluster Reporting Service (CQRS)--><g class="cluster" data-entity="Reporting Service (CQRS)" data-source-line="54" data-uid="ent0033" id="cluster_Reporting Service (CQRS)"><path d="M2589.5,535.6094 L2763.9756,535.6094 A3.75,3.75 0 0 1 2766.4756,538.1094 L2773.4756,559.2188 L2860.5,559.2188 A2.5,2.5 0 0 1 2863,561.7188 L2863,972.6094 A2.5,2.5 0 0 1 2860.5,975.1094 L2589.5,975.1094 A2.5,2.5 0 0 1 2587,972.6094 L2587,538.1094 A2.5,2.5 0 0 1 2589.5,535.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="2587" x2="2773.4756" y1="559.2188" y2="559.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="173.4756" x="2591" y="552.1426">Reporting Service (CQRS)</text></g><!--entity Frontend (HTML/JS)--><g class="entity" data-entity="Frontend (HTML/JS)" data-source-line="6" data-uid="ent0003" id="entity_Frontend (HTML/JS)"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.5859" x="1764" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1911.5859" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1909.5859" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1909.5859" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.5859" x="1779" y="135.1426">Frontend (HTML/JS)</text></g><!--entity EVENT_BROKER--><g class="entity" data-entity="EVENT_BROKER" data-source-line="15" data-uid="ent0008" id="entity_EVENT_BROKER"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="263.2891" x="1737.5" y="759.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1980.7891" y="764.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1978.7891" y="766.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1978.7891" y="770.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.9238" x="1752.5" y="794.1426">Event Broker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="223.2891" x="1752.5" y="811.752">(Kafka / RabbitMQ / Redis Streams)</text></g><!--entity EVENT_STORE--><g class="entity" data-entity="EVENT_STORE" data-source-line="16" data-uid="ent0009" id="entity_EVENT_STORE"><path d="M1902.5,913.1094 C1902.5,903.1094 1949.0757,903.1094 1949.0757,903.1094 C1949.0757,903.1094 1995.6514,903.1094 1995.6514,913.1094 L1995.6514,957.3281 C1995.6514,967.3281 1949.0757,967.3281 1949.0757,967.3281 C1949.0757,967.3281 1902.5,967.3281 1902.5,957.3281 L1902.5,913.1094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M1902.5,913.1094 C1902.5,923.1094 1949.0757,923.1094 1949.0757,923.1094 C1949.0757,923.1094 1995.6514,923.1094 1995.6514,913.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1514" x="1912.5" y="941.6426">Event Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.0205" x="1912.5" y="959.252">(persistant)</text></g><!--entity OBSERVABILITY--><g class="entity" data-entity="OBSERVABILITY" data-source-line="17" data-uid="ent0010" id="entity_OBSERVABILITY"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115.4824" x="1747.5" y="902.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1842.9824" y="907.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1840.9824" y="909.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1840.9824" y="913.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4824" x="1762.5" y="937.1426">Prometheus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.6514" x="1762.5" y="954.752">+ Grafana</text></g><!--entity Saga Orchestrateur\n(Labo 6)--><g class="entity" data-entity="Saga Orchestrateur\n(Labo 6)" data-source-line="21" data-uid="ent0012" id="entity_Saga Orchestrateur\n(Labo 6)"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.1719" x="242" y="253.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="384.1719" y="258.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="382.1719" y="260.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="382.1719" y="264.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.1719" x="257" y="288.1426">Saga Orchestrateur</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.1445" x="257" y="305.752">(Labo 6)</text></g><!--entity caisse.api_views--><g class="entity" data-entity="caisse.api_views" data-source-line="25" data-uid="ent0014" id="entity_caisse.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.0479" x="22.5" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="147.5479" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="145.5479" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="145.5479" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0479" x="37.5" y="626.1426">caisse.api_views</text></g><!--entity caisse.services--><g class="entity" data-entity="caisse.services" data-source-line="26" data-uid="ent0015" id="entity_caisse.services"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.917" x="32.5" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="147.417" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="145.417" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="145.417" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.917" x="47.5" y="802.6426">caisse.services</text></g><!--entity caisse.models--><g class="entity" data-entity="caisse.models" data-source-line="27" data-uid="ent0016" id="entity_caisse.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.7031" x="37.5" y="911.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="146.2031" y="916.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.2031" y="918.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="144.2031" y="922.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.7031" x="52.5" y="945.6426">caisse.models</text></g><!--entity produit.api_views--><g class="entity" data-entity="produit.api_views" data-source-line="31" data-uid="ent0018" id="entity_produit.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.1719" x="3134" y="440.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3262.1719" y="445.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3260.1719" y="447.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3260.1719" y="451.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1719" x="3149" y="475.1426">produit.api_views</text></g><!--entity produit.services--><g class="entity" data-entity="produit.services" data-source-line="32" data-uid="ent0019" id="entity_produit.services"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.041" x="3134" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3252.041" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3250.041" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3250.041" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.041" x="3149" y="626.1426">produit.services</text></g><!--entity produit.models--><g class="entity" data-entity="produit.models" data-source-line="33" data-uid="ent0020" id="entity_produit.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.8271" x="3137" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3248.8271" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3246.8271" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3246.8271" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8271" x="3152" y="802.6426">produit.models</text></g><!--entity stock.api_views--><g class="entity" data-entity="stock.api_views" data-source-line="37" data-uid="ent0022" id="entity_stock.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.041" x="1205" y="440.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1323.041" y="445.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1321.041" y="447.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1321.041" y="451.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.041" x="1220" y="475.1426">stock.api_views</text></g><!--entity stock.services--><g class="entity" data-entity="stock.services" data-source-line="38" data-uid="ent0023" id="entity_stock.services"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.9102" x="1215" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1322.9102" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1320.9102" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1320.9102" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9102" x="1230" y="626.1426">stock.services</text></g><!--entity stock.models--><g class="entity" data-entity="stock.models" data-source-line="39" data-uid="ent0024" id="entity_stock.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.6963" x="1220" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1321.6963" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1319.6963" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1319.6963" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6963" x="1235" y="802.6426">stock.models</text></g><!--entity vente.api_views--><g class="entity" data-entity="vente.api_views" data-source-line="43" data-uid="ent0026" id="entity_vente.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.6133" x="224" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="343.6133" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="341.6133" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="341.6133" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.6133" x="239" y="626.1426">vente.api_views</text></g><!--entity vente.services--><g class="entity" data-entity="vente.services" data-source-line="44" data-uid="ent0027" id="entity_vente.services"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.4824" x="234.5" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="343.9824" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="341.9824" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="341.9824" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4824" x="249.5" y="802.6426">vente.services</text></g><!--entity vente.models--><g class="entity" data-entity="vente.models" data-source-line="45" data-uid="ent0028" id="entity_vente.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.2686" x="239.5" y="911.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="342.7686" y="916.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="340.7686" y="918.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="340.7686" y="922.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2686" x="254.5" y="945.6426">vente.models</text></g><!--entity panier.api_views--><g class="entity" data-entity="panier.api_views" data-source-line="49" data-uid="ent0030" id="entity_panier.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.2822" x="2903" y="440.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3027.2822" y="445.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3025.2822" y="447.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3025.2822" y="451.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.2822" x="2918" y="475.1426">panier.api_views</text></g><!--entity panier.services--><g class="entity" data-entity="panier.services" data-source-line="50" data-uid="ent0031" id="entity_panier.services"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.1514" x="2905" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3019.1514" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3017.1514" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3017.1514" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.1514" x="2920" y="626.1426">panier.services</text></g><!--entity panier.models--><g class="entity" data-entity="panier.models" data-source-line="51" data-uid="ent0032" id="entity_panier.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127.9375" x="2903" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="3010.9375" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3008.9375" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="3008.9375" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9375" x="2918" y="802.6426">panier.models</text></g><!--entity reporting.api_views--><g class="entity" data-entity="reporting.api_views" data-source-line="55" data-uid="ent0034" id="entity_reporting.api_views"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.6201" x="2613.5" y="591.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2754.1201" y="596.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2752.1201" y="598.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2752.1201" y="602.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6201" x="2628.5" y="626.1426">reporting.api_views</text></g><!--entity reporting.services (Query Model)--><g class="entity" data-entity="reporting.services (Query Model)" data-source-line="56" data-uid="ent0035" id="entity_reporting.services (Query Model)"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243.8477" x="2603" y="768.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2826.8477" y="773.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2824.8477" y="775.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2824.8477" y="779.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.8477" x="2618" y="802.6426">reporting.services (Query Model)</text></g><!--entity reporting.models--><g class="entity" data-entity="reporting.models" data-source-line="57" data-uid="ent0036" id="entity_reporting.models"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.2754" x="2628" y="911.1094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2752.2754" y="916.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2750.2754" y="918.1094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2750.2754" y="922.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104.2754" x="2643" y="945.6426">reporting.models</text></g><!--entity NGINX--><g class="entity" data-entity="NGINX" data-source-line="9" data-uid="ent0004" id="entity_NGINX"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.0273" x="1782.5" y="253.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1893.5273" y="258.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1891.5273" y="260.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1891.5273" y="264.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="1797.5" y="288.1426">Nginx</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0273" x="1797.5" y="305.752">(API Gateway)</text></g><!--entity DB--><g class="entity" data-entity="DB" data-source-line="11" data-uid="ent0005" id="entity_DB"><path d="M1794.5,1040.6094 C1794.5,1030.6094 1827.8379,1030.6094 1827.8379,1030.6094 C1827.8379,1030.6094 1861.1758,1030.6094 1861.1758,1040.6094 L1861.1758,1067.2188 C1861.1758,1077.2188 1827.8379,1077.2188 1827.8379,1077.2188 C1827.8379,1077.2188 1794.5,1077.2188 1794.5,1067.2188 L1794.5,1040.6094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M1794.5,1040.6094 C1794.5,1050.6094 1827.8379,1050.6094 1827.8379,1050.6094 C1827.8379,1050.6094 1861.1758,1050.6094 1861.1758,1040.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6758" x="1804.5" y="1069.1426">MySQL</text></g><!--entity REDIS--><g class="entity" data-entity="REDIS" data-source-line="12" data-uid="ent0006" id="entity_REDIS"><path d="M2249,778.6094 C2249,768.6094 2302.1826,768.6094 2302.1826,768.6094 C2302.1826,768.6094 2355.3652,768.6094 2355.3652,778.6094 L2355.3652,805.2188 C2355.3652,815.2188 2302.1826,815.2188 2302.1826,815.2188 C2302.1826,815.2188 2249,815.2188 2249,805.2188 L2249,778.6094" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M2249,778.6094 C2249,788.6094 2302.1826,788.6094 2302.1826,788.6094 C2302.1826,788.6094 2355.3652,788.6094 2355.3652,778.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3652" x="2259" y="807.1426">Redis (cache)</text></g><!--link Frontend (HTML/JS) to NGINX--><g class="link" data-entity-1="Frontend (HTML/JS)" data-entity-2="NGINX" data-source-line="61" data-uid="lnk37" id="link_Frontend (HTML/JS)_NGINX"><path d="M1848,148.7994 C1848,176.3594 1848,216.4894 1848,247.3594" fill="none" id="Frontend (HTML/JS)-to-NGINX" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1848,253.3594,1852,244.3594,1848,248.3594,1844,244.3594,1848,253.3594" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to caisse.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="caisse.api_views" data-source-line="64" data-uid="lnk38" id="link_NGINX_caisse.api_views"><path d="M1782.35,288.3794 C1550.79,293.1594 780.5,311.8694 677,350.6094 C583.58,385.5794 591.97,449.9994 500,488.6094 C379.28,539.2894 328.88,477.2894 208,527.6094 C172.57,542.3594 142.9492,566.9851 121.6692,587.4051" fill="none" id="NGINX-to-caisse.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="117.34,591.5594,126.6033,588.2141,120.9477,588.0975,121.0643,582.4418,117.34,591.5594" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to produit.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="produit.api_views" data-source-line="65" data-uid="lnk39" id="link_NGINX_produit.api_views"><path d="M1913.68,287.9594 C2134.11,291.4194 2845.88,307.7794 3063,376.6094 C3106.66,390.4494 3146.1339,416.1509 3174.0739,436.9109" fill="none" id="NGINX-to-produit.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="3178.89,440.4894,3174.0515,431.911,3174.8766,437.5073,3169.2802,438.3324,3178.89,440.4894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to stock.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="stock.api_views" data-source-line="66" data-uid="lnk40" id="link_NGINX_stock.api_views"><path d="M1782.43,307.2694 C1673.16,340.8694 1460.515,406.256 1348.895,440.576" fill="none" id="NGINX-to-stock.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1343.16,442.3394,1352.9381,443.5177,1347.9392,440.8699,1350.587,435.871,1343.16,442.3394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to vente.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="vente.api_views" data-source-line="67" data-uid="lnk41" id="link_NGINX_vente.api_views"><path d="M1782.07,293.3094 C1662.92,305.1194 1404.11,333.5794 1189,376.6094 C1026.51,409.1194 551.2245,541.9397 369.9445,593.0997" fill="none" id="NGINX-to-vente.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="364.17,594.7294,373.9181,596.1346,368.982,593.3713,371.7452,588.4353,364.17,594.7294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to panier.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="panier.api_views" data-source-line="68" data-uid="lnk42" id="link_NGINX_panier.api_views"><path d="M1913.88,297.4294 C2111.38,328.3594 2691.6623,419.2308 2897.0223,451.4008" fill="none" id="NGINX-to-panier.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2902.95,452.3294,2894.6775,446.9847,2898.0102,451.5556,2893.4394,454.8883,2902.95,452.3294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link NGINX to reporting.api_views--><g class="link" data-entity-1="NGINX" data-entity-2="reporting.api_views" data-source-line="69" data-uid="lnk43" id="link_NGINX_reporting.api_views"><path d="M1913.68,312.5394 C2073.53,374.4194 2475.3447,529.9632 2628.7547,589.3532" fill="none" id="NGINX-to-reporting.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2634.35,591.5194,2627.4011,584.5399,2629.6872,589.7143,2624.5129,592.0004,2634.35,591.5194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link caisse.api_views to caisse.services--><g class="link" data-entity-1="caisse.api_views" data-entity-2="caisse.services" data-source-line="72" data-uid="lnk44" id="link_caisse.api_views_caisse.services"><path d="M95.66,639.7794 C96.62,673.1594 98.2096,728.4118 99.1596,761.8418" fill="none" id="caisse.api_views-to-caisse.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="99.33,767.8394,103.0727,758.7294,99.188,762.8414,95.076,758.9566,99.33,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link caisse.services to caisse.models--><g class="link" data-entity-1="caisse.services" data-entity-2="caisse.models" data-source-line="73" data-uid="lnk45" id="link_caisse.services_caisse.models"><path d="M100.33,816.3894 C100.7,842.5194 101.2151,878.65 101.5851,904.79" fill="none" id="caisse.services-to-caisse.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="101.67,910.7894,105.5422,901.7337,101.5992,905.7899,97.543,901.8469,101.67,910.7894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link produit.api_views to produit.services--><g class="link" data-entity-1="produit.api_views" data-entity-2="produit.services" data-source-line="74" data-uid="lnk46" id="link_produit.api_views_produit.services"><path d="M3207.22,488.8894 C3206.28,516.8794 3204.9097,557.5727 3203.9797,585.4927" fill="none" id="produit.api_views-to-produit.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="3203.78,591.4894,3208.0774,582.6275,3203.9465,586.4921,3200.0818,582.3612,3203.78,591.4894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link produit.services to produit.models--><g class="link" data-entity-1="produit.services" data-entity-2="produit.models" data-source-line="75" data-uid="lnk47" id="link_produit.services_produit.models"><path d="M3203,639.7794 C3203,673.1594 3203,728.4094 3203,761.8394" fill="none" id="produit.services-to-produit.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="3203,767.8394,3207,758.8394,3203,762.8394,3199,758.8394,3203,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link stock.api_views to stock.services--><g class="link" data-entity-1="stock.api_views" data-entity-2="stock.services" data-source-line="76" data-uid="lnk48" id="link_stock.api_views_stock.services"><path d="M1274.78,488.8894 C1275.72,516.8794 1277.0903,557.5727 1278.0203,585.4927" fill="none" id="stock.api_views-to-stock.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1278.22,591.4894,1281.9182,582.3612,1278.0535,586.4921,1273.9226,582.6275,1278.22,591.4894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link stock.services to stock.models--><g class="link" data-entity-1="stock.services" data-entity-2="stock.models" data-source-line="77" data-uid="lnk49" id="link_stock.services_stock.models"><path d="M1279.27,639.7794 C1279.65,673.1594 1280.2818,728.4098 1280.6618,761.8398" fill="none" id="stock.services-to-stock.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1280.73,767.8394,1284.6274,758.7945,1280.6732,762.8397,1276.628,758.8854,1280.73,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link vente.api_views to vente.services--><g class="link" data-entity-1="vente.api_views" data-entity-2="vente.services" data-source-line="78" data-uid="lnk50" id="link_vente.api_views_vente.services"><path d="M294.66,639.7794 C295.62,673.1594 297.2096,728.4118 298.1596,761.8418" fill="none" id="vente.api_views-to-vente.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="298.33,767.8394,302.0727,758.7294,298.188,762.8414,294.076,758.9566,298.33,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link vente.services to vente.models--><g class="link" data-entity-1="vente.services" data-entity-2="vente.models" data-source-line="79" data-uid="lnk51" id="link_vente.services_vente.models"><path d="M299.33,816.3894 C299.7,842.5194 300.2151,878.65 300.5851,904.79" fill="none" id="vente.services-to-vente.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="300.67,910.7894,304.5422,901.7337,300.5992,905.7899,296.543,901.8469,300.67,910.7894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link panier.api_views to panier.services--><g class="link" data-entity-1="panier.api_views" data-entity-2="panier.services" data-source-line="80" data-uid="lnk52" id="link_panier.api_views_panier.services"><path d="M2974.53,488.8894 C2973.97,516.8794 2973.1503,557.5706 2972.5903,585.4906" fill="none" id="panier.api_views-to-panier.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2972.47,591.4894,2976.6497,582.5714,2972.5703,586.4904,2968.6513,582.411,2972.47,591.4894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link panier.services to panier.models--><g class="link" data-entity-1="panier.services" data-entity-2="panier.models" data-source-line="81" data-uid="lnk53" id="link_panier.services_panier.models"><path d="M2971.34,639.7794 C2970.38,673.1594 2968.7904,728.4118 2967.8404,761.8418" fill="none" id="panier.services-to-panier.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2967.67,767.8394,2971.924,758.9566,2967.812,762.8414,2963.9273,758.7294,2967.67,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reporting.api_views to reporting.services (Query Model)--><g class="link" data-entity-1="reporting.api_views" data-entity-2="reporting.services (Query Model)" data-source-line="82" data-uid="lnk54" id="link_reporting.api_views_reporting.services (Query Model)"><path d="M2698.12,639.7794 C2704.05,673.1594 2713.8803,728.5019 2719.8203,761.9319" fill="none" id="reporting.api_views-to-reporting.services (Query Model)" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2720.87,767.8394,2723.2338,758.2784,2719.9953,762.9165,2715.3572,759.6779,2720.87,767.8394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reporting.services (Query Model) to reporting.models--><g class="link" data-entity-1="reporting.services (Query Model)" data-entity-2="reporting.models" data-source-line="83" data-uid="lnk55" id="link_reporting.services (Query Model)_reporting.models"><path d="M2720.87,816.3894 C2716.24,842.5194 2709.8186,878.7417 2705.1786,904.8817" fill="none" id="reporting.services (Query Model)-to-reporting.models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2704.13,910.7894,2709.6414,902.627,2705.0039,905.8663,2701.7645,901.2288,2704.13,910.7894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link caisse.models to DB--><g class="link" data-entity-1="caisse.models" data-entity-2="DB" data-source-line="86" data-uid="lnk56" id="link_caisse.models_DB"><path d="M136.67,959.2994 C156.63,971.3294 182.71,984.8794 208,991.6094 C366.26,1033.7294 1569.8504,1050.0274 1788.2604,1052.6474" fill="none" id="caisse.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1794.26,1052.7194,1785.3086,1048.6117,1789.2604,1052.6594,1785.2127,1056.6111,1794.26,1052.7194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link produit.models to DB--><g class="link" data-entity-1="produit.models" data-entity-2="DB" data-source-line="87" data-uid="lnk57" id="link_produit.models_DB"><path d="M3178.85,816.3394 C3133.2,858.7894 3029.34,948.4494 2924,991.6094 C2823.65,1032.7294 2041.249,1049.2394 1867.709,1052.4194" fill="none" id="produit.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1861.71,1052.5294,1870.7818,1056.3638,1866.7092,1052.4378,1870.6352,1048.3652,1861.71,1052.5294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link stock.models to DB--><g class="link" data-entity-1="stock.models" data-entity-2="DB" data-source-line="88" data-uid="lnk58" id="link_stock.models_DB"><path d="M1329.54,816.1794 C1438.71,868.0694 1695.861,990.3036 1789.061,1034.6036" fill="none" id="stock.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1794.48,1037.1794,1788.0687,1029.7031,1789.9642,1035.0329,1784.6343,1036.9284,1794.48,1037.1794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link vente.models to DB--><g class="link" data-entity-1="vente.models" data-entity-2="DB" data-source-line="89" data-uid="lnk59" id="link_vente.models_DB"><path d="M362.75,940.8394 C619.69,960.5294 1593.7675,1035.1609 1788.3275,1050.0709" fill="none" id="vente.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1794.31,1050.5294,1785.642,1045.8534,1789.3246,1050.1473,1785.0307,1053.83,1794.31,1050.5294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link panier.models to DB--><g class="link" data-entity-1="panier.models" data-entity-2="DB" data-source-line="90" data-uid="lnk60" id="link_panier.models_DB"><path d="M2962.59,816.1894 C2953.01,859.1994 2925.9,950.9594 2863,991.6094 C2777.21,1047.0594 2035.77,1052.5105 1867.53,1053.0405" fill="none" id="panier.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1861.53,1053.0594,1870.5426,1057.031,1866.53,1053.0436,1870.5174,1049.031,1861.53,1053.0594" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reporting.models to DB--><g class="link" data-entity-1="reporting.models" data-entity-2="DB" data-source-line="91" data-uid="lnk61" id="link_reporting.models_DB"><path d="M2627.9,945.7794 C2448.97,969.7894 1995.7467,1030.6016 1867.6067,1047.7916" fill="none" id="reporting.models-to-DB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1861.66,1048.5894,1871.1119,1051.3572,1866.6156,1047.9246,1870.0483,1043.4283,1861.66,1048.5894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link stock.services to REDIS--><g class="link" data-entity-1="stock.services" data-entity-2="REDIS" data-source-line="94" data-uid="lnk62" id="link_stock.services_REDIS"><path d="M1343.12,618.3694 C1499.23,623.1194 1895.66,637.9894 2024,669.6094 C2047.4,675.3694 2173.9427,732.4857 2247.3227,766.0157" fill="none" id="stock.services-to-REDIS" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2252.78,768.5094,2246.2565,761.1308,2248.2323,766.4314,2242.9317,768.4071,2252.78,768.5094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link produit.services to REDIS--><g class="link" data-entity-1="produit.services" data-entity-2="REDIS" data-source-line="95" data-uid="lnk63" id="link_produit.services_REDIS"><path d="M3133.67,628.6394 C3111.16,632.3794 3086.05,636.3594 3063,639.6094 C2852.07,669.3294 2794.87,649.0794 2587,695.6094 C2504.25,714.1294 2417.3121,745.4448 2360.7621,767.4348" fill="none" id="produit.services-to-REDIS" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2355.17,769.6094,2365.0078,770.0756,2359.8301,767.7973,2362.1084,762.6195,2355.17,769.6094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Saga Orchestrateur\n(Labo 6) to stock.api_views--><g class="link" data-entity-1="Saga Orchestrateur\n(Labo 6)" data-entity-2="stock.api_views" data-source-line="98" data-uid="lnk64" id="link_Saga Orchestrateur\n(Labo 6)_stock.api_views"><path d="M404.08,302.1594 C587.79,336.2494 1027.2208,417.8042 1198.9508,449.6842" fill="none" id="Saga Orchestrateur\n(Labo 6)-to-stock.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1204.85,450.7794,1196.7313,445.2039,1199.934,449.8668,1195.2711,453.0695,1204.85,450.7794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.8716" x="742" y="365.1045">Appels synchrones (verif &amp; reservation)</text></g><!--link Saga Orchestrateur\n(Labo 6) to vente.api_views--><g class="link" data-entity-1="Saga Orchestrateur\n(Labo 6)" data-entity-2="vente.api_views" data-source-line="99" data-uid="lnk65" id="link_Saga Orchestrateur\n(Labo 6)_vente.api_views"><path d="M320.19,318.8094 C314.38,384.4694 301.6691,528.0027 296.5791,585.5027" fill="none" id="Saga Orchestrateur\n(Labo 6)-to-vente.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="296.05,591.4794,300.828,582.8671,296.4909,586.4989,292.8592,582.1617,296.05,591.4794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.5889" x="316" y="470.1045">Appels synchrones (paiement)</text></g><!--link Saga Orchestrateur\n(Labo 6) to caisse.api_views--><g class="link" data-entity-1="Saga Orchestrateur\n(Labo 6)" data-entity-2="caisse.api_views" data-source-line="100" data-uid="lnk66" id="link_Saga Orchestrateur\n(Labo 6)_caisse.api_views"><path d="M241.9,308.1894 C205.11,321.8094 164.27,343.3894 139,376.6094 C89.51,441.6494 89.4284,539.2522 92.4384,585.2722" fill="none" id="Saga Orchestrateur\n(Labo 6)-to-caisse.api_views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="92.83,591.2594,96.2341,582.0175,92.5037,586.27,88.2511,582.5396,92.83,591.2594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7935" x="140" y="470.1045">Mise à jour état commande</text></g><!--link stock.services to EVENT_BROKER--><g class="link" data-entity-1="stock.services" data-entity-2="EVENT_BROKER" data-source-line="103" data-uid="lnk67" id="link_stock.services_EVENT_BROKER"><path d="M1343.37,620.6394 C1445.57,627.7094 1639.94,644.0694 1704,669.6094 C1731.1,680.4094 1786.5335,723.4556 1826.2335,755.7156" fill="none" id="stock.services-to-EVENT_BROKER" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1830.89,759.4994,1826.4278,750.7193,1827.0096,756.3462,1821.3827,756.928,1830.89,759.4994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0552" x="1734" y="684.1045">Événements métier (StockRéservé, StockLibéré)</text></g><!--link vente.services to EVENT_BROKER--><g class="link" data-entity-1="vente.services" data-entity-2="EVENT_BROKER" data-source-line="104" data-uid="lnk68" id="link_vente.services_EVENT_BROKER"><path d="M363.54,778.0794 C529,743.8994 981.84,661.5994 1359,696.6094 C1488.83,708.6594 1629.0444,736.3108 1731.4744,759.2008" fill="none" id="vente.services-to-EVENT_BROKER" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1737.33,760.5094,1729.419,754.6428,1732.4504,759.4189,1727.6743,762.4503,1737.33,760.5094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325.1523" x="1376.5" y="684.1045">Événements métier (PaiementRéussi, PaiementEchoué)</text></g><!--link EVENT_BROKER to vente.services--><g class="link" data-entity-1="EVENT_BROKER" data-entity-2="vente.services" data-source-line="110" data-uid="lnk73" id="link_EVENT_BROKER_vente.services"><path d="M1737.33,760.5094 C1634.9,737.6194 1488.83,708.6594 1359,696.6094 C981.84,661.5994 534.8759,742.6855 369.4159,776.8655" fill="none" id="EVENT_BROKER-to-vente.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="363.54,778.0794,373.1631,780.1759,368.4366,777.0679,371.5447,772.3413,363.54,778.0794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.7134" x="681" y="684.1045">Consommation événements (ex: Audit)</text></g><!--link caisse.services to EVENT_BROKER--><g class="link" data-entity-1="caisse.services" data-entity-2="EVENT_BROKER" data-source-line="105" data-uid="lnk69" id="link_caisse.services_EVENT_BROKER"><path d="M118.37,767.8794 C137.72,744.5494 170.55,710.7894 208,696.6094 C327.6,651.3194 1231.66,684.7894 1359,696.6094 C1488.83,708.6594 1629.0444,736.3108 1731.4744,759.2008" fill="none" id="caisse.services-to-EVENT_BROKER" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1737.33,760.5094,1729.419,754.6428,1732.4504,759.4189,1727.6743,762.4503,1737.33,760.5094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.9897" x="438" y="684.1045">CommandeCréée, CommandeConfirmée</text></g><!--link EVENT_BROKER to caisse.services--><g class="link" data-entity-1="EVENT_BROKER" data-entity-2="caisse.services" data-source-line="109" data-uid="lnk72" id="link_EVENT_BROKER_caisse.services"><path d="M1737.33,760.5094 C1634.9,737.6194 1488.83,708.6594 1359,696.6094 C1231.66,684.7894 327.6,651.3194 208,696.6094 C170.55,710.7894 141.5504,739.9311 122.2004,763.2611" fill="none" id="EVENT_BROKER-to-caisse.services" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="118.37,767.8794,127.1944,763.5056,121.562,764.0308,121.0368,758.3984,118.37,767.8794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.3906" x="912.5" y="684.1045">Consommation événements (ex: Notification)</text></g><!--link panier.services to EVENT_BROKER--><g class="link" data-entity-1="panier.services" data-entity-2="EVENT_BROKER" data-source-line="106" data-uid="lnk70" id="link_panier.services_EVENT_BROKER"><path d="M2904.85,632.6294 C2891.08,635.3894 2876.63,637.9094 2863,639.6094 C2695.71,660.4194 2268.02,626.6794 2105,669.6094 C2034.59,688.1494 1966.242,726.8525 1920.372,756.2425" fill="none" id="panier.services-to-EVENT_BROKER" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1915.32,759.4794,1925.0559,757.992,1919.53,756.7819,1920.74,751.256,1915.32,759.4794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.3589" x="2106" y="684.1045">AjoutArticle, SuppressionArticle</text></g><!--link EVENT_BROKER to reporting.services (Query Model)--><g class="link" data-entity-1="EVENT_BROKER" data-entity-2="reporting.services (Query Model)" data-source-line="108" data-uid="lnk71" id="link_EVENT_BROKER_reporting.services (Query Model)"><path d="M1952.81,759.4794 C2052.46,724.5794 2224.03,676.7594 2373,696.6094 C2474.21,710.0994 2581.8943,742.563 2651.9443,766.173" fill="none" id="EVENT_BROKER-to-reporting.services (Query Model)" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2657.63,768.0894,2650.379,761.4244,2652.8919,766.4924,2647.8238,769.0053,2657.63,768.0894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.667" x="2296.5" y="684.1045">Consommation événements (projection CQRS)</text></g><!--link EVENT_BROKER to EVENT_STORE--><g class="link" data-entity-1="EVENT_BROKER" data-entity-2="EVENT_STORE" data-source-line="113" data-uid="lnk74" id="link_EVENT_BROKER_EVENT_STORE"><path d="M1886.95,824.7494 C1900.22,848.1394 1915.2284,874.6012 1928.4184,897.8412" fill="none" id="EVENT_BROKER-to-EVENT_STORE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1931.38,903.0594,1930.4164,893.2578,1928.912,898.7109,1923.4589,897.2066,1931.38,903.0594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.6353" x="1914" y="869.1045">Stockage événements</text></g><!--link reporting.services (Query Model) to EVENT_STORE--><g class="link" data-entity-1="reporting.services (Query Model)" data-entity-2="EVENT_STORE" data-source-line="114" data-uid="lnk75" id="link_reporting.services (Query Model)_EVENT_STORE"><path d="M2602.9,815.2994 C2427.9,847.0894 2119.7633,903.0764 2001.5833,924.5564" fill="none" id="reporting.services (Query Model)-to-EVENT_STORE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1995.68,925.6294,2005.2502,927.9555,2000.5994,924.7352,2003.8196,920.0844,1995.68,925.6294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.8398" x="2384" y="869.1045">Relecture / projection</text></g><!--link caisse.services to OBSERVABILITY--><g class="link" data-entity-1="caisse.services" data-entity-2="OBSERVABILITY" data-source-line="117" data-uid="lnk76" id="link_caisse.services_OBSERVABILITY"><path d="M145.51,816.1594 C164.42,824.8694 186.85,834.1194 208,840.1094 C306.48,868.0094 334.09,863.0794 436,872.6094 C942.92,920.0094 1552.9805,931.0639 1741.4805,933.4339" fill="none" id="caisse.services-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1747.48,933.5094,1738.531,929.3965,1742.4804,933.4465,1738.4304,937.3959,1747.48,933.5094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link stock.services to OBSERVABILITY--><g class="link" data-entity-1="stock.services" data-entity-2="OBSERVABILITY" data-source-line="118" data-uid="lnk77" id="link_stock.services_OBSERVABILITY"><path d="M1214.87,618.2694 C1022.61,623.5494 462.59,641.2994 436,669.6094 C430.52,675.4394 430.92,681.4294 436,687.6094 C605.87,894.5794 1502.6414,927.8181 1741.1714,933.0381" fill="none" id="stock.services-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1747.17,933.1694,1738.2597,928.9734,1742.1712,933.06,1738.0846,936.9715,1747.17,933.1694" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link vente.services to OBSERVABILITY--><g class="link" data-entity-1="vente.services" data-entity-2="OBSERVABILITY" data-source-line="119" data-uid="lnk78" id="link_vente.services_OBSERVABILITY"><path d="M349.29,816.1194 C399.53,839.0294 470.27,871.0094 477,872.6094 C723.73,931.1994 1519.41,934.5259 1741.5,934.2859" fill="none" id="vente.services-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1747.5,934.2794,1738.4957,930.2891,1742.5,934.2848,1738.5043,938.2891,1747.5,934.2794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link panier.services to OBSERVABILITY--><g class="link" data-entity-1="panier.services" data-entity-2="OBSERVABILITY" data-source-line="120" data-uid="lnk79" id="link_panier.services_OBSERVABILITY"><path d="M3004.37,639.7394 C3021.11,653.7694 3039.91,673.2594 3049,695.6094 C3073.2,755.0994 3093.01,793.3394 3049,840.1094 C2967.53,926.6894 2633.71,866.1694 2515,872.6094 C2375.05,880.1994 2022.04,873.2094 1885,902.6094 C1877.7,904.1794 1875.889,904.4227 1868.549,906.8827" fill="none" id="panier.services-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1862.86,908.7894,1872.6646,909.722,1867.6008,907.2005,1870.1224,902.1367,1862.86,908.7894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link reporting.services (Query Model) to OBSERVABILITY--><g class="link" data-entity-1="reporting.services (Query Model)" data-entity-2="OBSERVABILITY" data-source-line="121" data-uid="lnk80" id="link_reporting.services (Query Model)_OBSERVABILITY"><path d="M2602.84,809.5794 C2535.13,818.6794 2449.42,830.1194 2373,840.1094 C2264.59,854.2894 1990.9,875.4294 1885,902.6094 C1877.63,904.4994 1875.6842,904.9103 1868.2142,907.5203" fill="none" id="reporting.services (Query Model)-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1862.55,909.4994,1872.3657,910.3069,1867.2702,907.8502,1869.7269,902.7546,1862.55,909.4994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link EVENT_BROKER to OBSERVABILITY--><g class="link" data-entity-1="EVENT_BROKER" data-entity-2="OBSERVABILITY" data-source-line="122" data-uid="lnk81" id="link_EVENT_BROKER_OBSERVABILITY"><path d="M1844.45,824.7894 C1838.1,834.0394 1831.74,844.4094 1827,854.6094 C1820.01,869.6794 1816.2243,881.5736 1812.6643,896.4736" fill="none" id="EVENT_BROKER-to-OBSERVABILITY" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1811.27,902.3094,1817.252,894.4853,1812.4319,897.4463,1809.471,892.6262,1811.27,902.3094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--SRC=[ZLVDRkCs4BxhAQOvD3OsQMuja4C1sr5JT_sJI4RQOdUne6NQvaQM19BoRb3q0VeMFTRFeHVha99iac9sVPC_ZhuPVZEZ6N-teckMKOZ2qM8mkv-4aAH4Y22GJAOKxXZPSBBRKLXH0Kc-At91CedFrp3WoPP9ciYIKvYoXEU2yZrByF1X7iCRYCc6mFTG_REl3XdTqKmocgOq20gIF9CDXOjHoX25t-do0luA0DxzmdDaprRG-tKndTpy5lS_17y7WNQSATEBsOPbNzvdlS736Ew9f9_9I_y2Y83P_NZsHn2iY2HB8f1y-X8_JlJHtT208xfY0de9IRQqVZCAxyQn4LMuLvx6sPeJ8NcfBrZ7PyHH6mrv_amvXlEMh9y9t414baicfu_gKJkA9QTa9sfFuLCuMtmSHlEtOOHqfw1gjbZcd29PGRbWGgBGvclnOXw5TX0FFDzHkQMbU9-zWNjErYGZ-fNvC0wZfy5mF1al_bGI7c-dipB7t56y70fOyaRxxW66CY7B77wiit2YgFCC8yA4QAHvb-WVFv22VTmp-bbyCC2sC4nibwzeAcnYlC-gP2X4RTym5pNgKBUenTs2Fd9KDtbsg8N27E8QisXho4VwX7cW3gdAfIj4ZLcaDUILWMICSbS53ReYrA2jGOtvY2DQv5ooRDDoGs_q6CNznWLlZnql9_pOuRt7al8Nc2edVSV8y7o9NP0IoV9Cm5hrDacf27nj3jVNFxSzVDbsDd3i8Sumz3ss163FYq3RQ6jFoHc7dgenJZk9Dyuw-JDPEram3htwuMr6UQcw2XZoyWmV2iAXaJBetiAwt2cr7SIoQqNttDlMmo3iGBRbaT8LovJGe7C0q-f8vMfhAcvGEO1fTRgecmehG-Or7SIoEzBvakUczRNo_xQ9ozIwnUeO94drdu3gNqW9ZYfL799igiEfD1fZpO6pp4tG4RUqFgAMR2SEw_f7k1DXUwBAM8tCUgpvarqFqbVAgfcobz2TCtLZaAJ-JhGp9_ZwHFBtCTp2e2WmS10lMRB5xunA1Nuzs1fN4KvLJFfxT1vzfrozz0LXUhqvZxFRxxUuFk4MW1NmAKSrgeCaKetv7SbML4bch52uN9NBcxXSDZhzrFVdmbmrq875i4CFQi3qz4YCgeDwjJfSWVuzOSlgmAj3tz-6Pn4_D8eWToa4ku8M29DjNcfkxzVC8Hyr6emm76o8gnEGPsl6Txf9lEtj40rGM3d0mavIP8dBei1I45W63HO4rWldjRqEC1Cg95LHc3T3YXvsmIUgInhqZFLuw4ZmLKBwvHPckMHhbZGLt6Lq4_PDma6vObYtM6F62Wgd1RJhmrX6aLvNZDejJEfpluSs5MuApP-96pY9fqARBtNRBbdAP7LufNJiZTVR4uw9hxeT4szjEJRdtTL-gQEgVVm_]--></g></svg></p><hr>
<p>Vue logique et diagramme de classe :</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="704px" preserveAspectRatio="none" style="width:1194px;height:704px;background:#FFFFFF;" version="1.1" viewBox="0 0 1194 704" width="1194px" zoomAndPan="magnify"><title>Diagramme de classes - Vue Microservices avec Saga &amp; Event Sourcing</title><defs></defs><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="479.3359" x="350.627" y="24.5332">Diagramme de classes - Vue Microservices avec Saga &amp; Event Sourcing</text></g><!--cluster produit_service--><g class="cluster" data-entity="produit_service" data-source-line="3" data-uid="ent0002" id="cluster_produit_service"><path d="M561.09,527.6094 L666.3517,527.6094 A3.75,3.75 0 0 1 668.8517,530.1094 L675.8517,551.2188 L706.09,551.2188 A2.5,2.5 0 0 1 708.59,553.7188 L708.59,695.1094 A2.5,2.5 0 0 1 706.09,697.6094 L561.09,697.6094 A2.5,2.5 0 0 1 558.59,695.1094 L558.59,530.1094 A2.5,2.5 0 0 1 561.09,527.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="558.59" x2="675.8517" y1="551.2188" y2="551.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="104.2617" x="562.59" y="544.1426">produit_service</text></g><!--cluster stock_service--><g class="cluster" data-entity="stock_service" data-source-line="12" data-uid="ent0004" id="cluster_stock_service"><path d="M26.09,62.6094 L119.717,62.6094 A3.75,3.75 0 0 1 122.217,65.1094 L129.217,86.2188 L173.09,86.2188 A2.5,2.5 0 0 1 175.59,88.7188 L175.59,230.1094 A2.5,2.5 0 0 1 173.09,232.6094 L26.09,232.6094 A2.5,2.5 0 0 1 23.59,230.1094 L23.59,65.1094 A2.5,2.5 0 0 1 26.09,62.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="23.59" x2="129.217" y1="86.2188" y2="86.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="92.627" x="27.59" y="79.1426">stock_service</text></g><!--cluster caisse (magasin)--><g class="cluster" data-entity="caisse (magasin)" data-source-line="21" data-uid="ent0006" id="cluster_caisse (magasin)"><path d="M148.09,298.6094 L261.924,298.6094 A3.75,3.75 0 0 1 264.424,301.1094 L271.424,322.2188 L273.09,322.2188 A2.5,2.5 0 0 1 275.59,324.7188 L275.59,466.1094 A2.5,2.5 0 0 1 273.09,468.6094 L148.09,468.6094 A2.5,2.5 0 0 1 145.59,466.1094 L145.59,301.1094 A2.5,2.5 0 0 1 148.09,298.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="145.59" x2="271.424" y1="322.2188" y2="322.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112.834" x="149.59" y="315.1426">caisse (magasin)</text></g><!--cluster vente_service--><g class="cluster" data-entity="vente_service" data-source-line="30" data-uid="ent0008" id="cluster_vente_service"><path d="M302.09,44.6094 L395.717,44.6094 A3.75,3.75 0 0 1 398.217,47.1094 L405.217,68.2188 L776.09,68.2188 A2.5,2.5 0 0 1 778.59,70.7188 L778.59,475.1094 A2.5,2.5 0 0 1 776.09,477.6094 L302.09,477.6094 A2.5,2.5 0 0 1 299.59,475.1094 L299.59,47.1094 A2.5,2.5 0 0 1 302.09,44.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="299.59" x2="405.217" y1="68.2188" y2="68.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="92.627" x="303.59" y="61.1426">vente_service</text></g><!--cluster panier_service--><g class="cluster" data-entity="panier_service" data-source-line="57" data-uid="ent0012" id="cluster_panier_service"><path d="M805.09,62.6094 L904.1584,62.6094 A3.75,3.75 0 0 1 906.6584,65.1094 L913.6584,86.2188 L1185.09,86.2188 A2.5,2.5 0 0 1 1187.59,88.7188 L1187.59,466.1094 A2.5,2.5 0 0 1 1185.09,468.6094 L805.09,468.6094 A2.5,2.5 0 0 1 802.59,466.1094 L802.59,65.1094 A2.5,2.5 0 0 1 805.09,62.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="802.59" x2="913.6584" y1="86.2188" y2="86.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="98.0684" x="806.59" y="79.1426">panier_service</text></g><!--class Produit--><g class="entity" data-entity="Produit" data-source-line="4" data-uid="ent0003" id="entity_Produit"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.0342" x="575.09" y="563.6094"></rect><ellipse cx="608.3941" cy="579.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M611.1597,575.4844 Q611.316,575.2656 611.5035,575.1563 Q611.691,575.0469 611.9097,575.0469 Q612.2847,575.0469 612.5191,575.3047 Q612.7535,575.5625 612.7535,576.1719 L612.7535,577.625 Q612.7535,578.2344 612.5191,578.5 Q612.2847,578.7656 611.9097,578.7656 Q611.566,578.7656 611.3629,578.5625 Q611.1597,578.375 611.0504,577.8594 Q611.0035,577.5 610.816,577.3125 Q610.4879,576.9375 609.8785,576.7188 Q609.2691,576.5 608.6441,576.5 Q607.8785,576.5 607.2457,576.8281 Q606.6129,577.1563 606.1207,577.9063 Q605.6285,578.6563 605.6285,579.6875 L605.6285,580.7813 Q605.6285,582.0156 606.5191,582.8359 Q607.4097,583.6563 609.0035,583.6563 Q609.941,583.6563 610.5972,583.4063 Q610.9879,583.25 611.4097,582.8125 Q611.6754,582.5469 611.8238,582.4688 Q611.9722,582.3906 612.1754,582.3906 Q612.5035,582.3906 612.7613,582.6484 Q613.0191,582.9063 613.0191,583.25 Q613.0191,583.5938 612.6754,584 Q612.1754,584.5781 611.3785,584.9063 Q610.3004,585.3594 609.0035,585.3594 Q607.4879,585.3594 606.2847,584.7344 Q605.3004,584.2344 604.6129,583.1641 Q603.9254,582.0938 603.9254,580.8125 L603.9254,579.6563 Q603.9254,578.3281 604.5425,577.1797 Q605.1597,576.0313 606.2535,575.4141 Q607.3472,574.7969 608.5816,574.7969 Q609.316,574.7969 609.9644,574.9609 Q610.6129,575.125 611.1597,575.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3584" x="626.4617" y="585.3379">Produit</text><line style="stroke:#181818;stroke-width:0.5;" x1="576.09" x2="691.1242" y1="595.6094" y2="595.6094"></line><ellipse cx="586.09" cy="609.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="595.09" y="614.1426">id: int</text><ellipse cx="586.09" cy="627.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="595.09" y="631.752">nom: str</text><ellipse cx="586.09" cy="645.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7998" x="595.09" y="649.3613">prix: float</text><ellipse cx="586.09" cy="662.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0342" x="595.09" y="666.9707">description: str</text><line style="stroke:#181818;stroke-width:0.5;" x1="576.09" x2="691.1242" y1="674.0469" y2="674.0469"></line></g><!--class Stock--><g class="entity" data-entity="Stock" data-source-line="13" data-uid="ent0005" id="entity_Stock"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.165" x="39.59" y="98.6094"></rect><ellipse cx="78.5081" cy="114.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M81.2737,110.4844 Q81.43,110.2656 81.6175,110.1563 Q81.805,110.0469 82.0237,110.0469 Q82.3987,110.0469 82.6331,110.3047 Q82.8675,110.5625 82.8675,111.1719 L82.8675,112.625 Q82.8675,113.2344 82.6331,113.5 Q82.3987,113.7656 82.0237,113.7656 Q81.68,113.7656 81.4769,113.5625 Q81.2737,113.375 81.1644,112.8594 Q81.1175,112.5 80.93,112.3125 Q80.6019,111.9375 79.9925,111.7188 Q79.3831,111.5 78.7581,111.5 Q77.9925,111.5 77.3597,111.8281 Q76.7269,112.1563 76.2347,112.9063 Q75.7425,113.6563 75.7425,114.6875 L75.7425,115.7813 Q75.7425,117.0156 76.6331,117.8359 Q77.5237,118.6563 79.1175,118.6563 Q80.055,118.6563 80.7112,118.4063 Q81.1019,118.25 81.5237,117.8125 Q81.7894,117.5469 81.9378,117.4688 Q82.0862,117.3906 82.2894,117.3906 Q82.6175,117.3906 82.8753,117.6484 Q83.1331,117.9063 83.1331,118.25 Q83.1331,118.5938 82.7894,119 Q82.2894,119.5781 81.4925,119.9063 Q80.4144,120.3594 79.1175,120.3594 Q77.6019,120.3594 76.3987,119.7344 Q75.4144,119.2344 74.7269,118.1641 Q74.0394,117.0938 74.0394,115.8125 L74.0394,114.6563 Q74.0394,113.3281 74.6566,112.1797 Q75.2737,111.0313 76.3675,110.4141 Q77.4612,109.7969 78.6956,109.7969 Q79.43,109.7969 80.0784,109.9609 Q80.7269,110.125 81.2737,110.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.0137" x="97.8233" y="120.3379">Stock</text><line style="stroke:#181818;stroke-width:0.5;" x1="40.59" x2="158.755" y1="130.6094" y2="130.6094"></line><ellipse cx="50.59" cy="144.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="59.59" y="149.1426">id: int</text><ellipse cx="50.59" cy="162.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0547" x="59.59" y="166.752">produit_id: int</text><ellipse cx="50.59" cy="180.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.165" x="59.59" y="184.3613">magasin_id: int</text><ellipse cx="50.59" cy="197.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3857" x="59.59" y="201.9707">quantite: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="40.59" x2="158.755" y1="209.0469" y2="209.0469"></line></g><!--class Magasin--><g class="entity" data-entity="Magasin" data-source-line="22" data-uid="ent0007" id="entity_Magasin"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.7998" x="162.09" y="334.6094"></rect><ellipse cx="182.4373" cy="350.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M185.2029,346.4844 Q185.3591,346.2656 185.5466,346.1563 Q185.7341,346.0469 185.9529,346.0469 Q186.3279,346.0469 186.5623,346.3047 Q186.7966,346.5625 186.7966,347.1719 L186.7966,348.625 Q186.7966,349.2344 186.5623,349.5 Q186.3279,349.7656 185.9529,349.7656 Q185.6091,349.7656 185.406,349.5625 Q185.2029,349.375 185.0935,348.8594 Q185.0466,348.5 184.8591,348.3125 Q184.531,347.9375 183.9216,347.7188 Q183.3123,347.5 182.6873,347.5 Q181.9216,347.5 181.2888,347.8281 Q180.656,348.1563 180.1638,348.9063 Q179.6716,349.6563 179.6716,350.6875 L179.6716,351.7813 Q179.6716,353.0156 180.5623,353.8359 Q181.4529,354.6563 183.0466,354.6563 Q183.9841,354.6563 184.6404,354.4063 Q185.031,354.25 185.4529,353.8125 Q185.7185,353.5469 185.867,353.4688 Q186.0154,353.3906 186.2185,353.3906 Q186.5466,353.3906 186.8045,353.6484 Q187.0623,353.9063 187.0623,354.25 Q187.0623,354.5938 186.7185,355 Q186.2185,355.5781 185.4216,355.9063 Q184.3435,356.3594 183.0466,356.3594 Q181.531,356.3594 180.3279,355.7344 Q179.3435,355.2344 178.656,354.1641 Q177.9685,353.0938 177.9685,351.8125 L177.9685,350.6563 Q177.9685,349.3281 178.5857,348.1797 Q179.2029,347.0313 180.2966,346.4141 Q181.3904,345.7969 182.6248,345.7969 Q183.3591,345.7969 184.0076,345.9609 Q184.656,346.125 185.2029,346.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.917" x="197.6255" y="356.3379">Magasin</text><line style="stroke:#181818;stroke-width:0.5;" x1="163.09" x2="257.8898" y1="366.6094" y2="366.6094"></line><ellipse cx="173.09" cy="380.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="182.09" y="385.1426">id: int</text><ellipse cx="173.09" cy="398.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="182.09" y="402.752">nom: str</text><ellipse cx="173.09" cy="416.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.7998" x="182.09" y="420.3613">quartier: str</text><ellipse cx="173.09" cy="433.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.793" x="182.09" y="437.9707">type: str</text><line style="stroke:#181818;stroke-width:0.5;" x1="163.09" x2="257.8898" y1="445.0469" y2="445.0469"></line></g><!--class Vente--><g class="entity" data-entity="Vente" data-source-line="31" data-uid="ent0009" id="entity_Vente"><rect fill="#F1F1F1" height="136.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="255.5781" x="506.59" y="89.6094"></rect><ellipse cx="611.8361" cy="105.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M614.6017,101.4844 Q614.758,101.2656 614.9455,101.1563 Q615.133,101.0469 615.3517,101.0469 Q615.7267,101.0469 615.9611,101.3047 Q616.1955,101.5625 616.1955,102.1719 L616.1955,103.625 Q616.1955,104.2344 615.9611,104.5 Q615.7267,104.7656 615.3517,104.7656 Q615.008,104.7656 614.8048,104.5625 Q614.6017,104.375 614.4923,103.8594 Q614.4455,103.5 614.258,103.3125 Q613.9298,102.9375 613.3205,102.7188 Q612.7111,102.5 612.0861,102.5 Q611.3205,102.5 610.6877,102.8281 Q610.0548,103.1563 609.5627,103.9063 Q609.0705,104.6563 609.0705,105.6875 L609.0705,106.7813 Q609.0705,108.0156 609.9611,108.8359 Q610.8517,109.6563 612.4455,109.6563 Q613.383,109.6563 614.0392,109.4063 Q614.4298,109.25 614.8517,108.8125 Q615.1173,108.5469 615.2658,108.4688 Q615.4142,108.3906 615.6173,108.3906 Q615.9455,108.3906 616.2033,108.6484 Q616.4611,108.9063 616.4611,109.25 Q616.4611,109.5938 616.1173,110 Q615.6173,110.5781 614.8205,110.9063 Q613.7423,111.3594 612.4455,111.3594 Q610.9298,111.3594 609.7267,110.7344 Q608.7423,110.2344 608.0548,109.1641 Q607.3673,108.0938 607.3673,106.8125 L607.3673,105.6563 Q607.3673,104.3281 607.9845,103.1797 Q608.6017,102.0313 609.6955,101.4141 Q610.7892,100.7969 612.0236,100.7969 Q612.758,100.7969 613.4064,100.9609 Q614.0548,101.125 614.6017,101.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.5859" x="632.3361" y="111.3379">Vente</text><line style="stroke:#181818;stroke-width:0.5;" x1="507.59" x2="761.1681" y1="121.6094" y2="121.6094"></line><ellipse cx="517.59" cy="135.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="526.59" y="140.1426">id: int</text><ellipse cx="517.59" cy="153.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.165" x="526.59" y="157.752">magasin_id: int</text><ellipse cx="517.59" cy="171.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="526.59" y="175.3613">date_heure: datetime</text><ellipse cx="517.59" cy="188.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.7031" x="526.59" y="192.9707">total: float</text><ellipse cx="517.59" cy="206.3516" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.5781" x="526.59" y="210.5801">etat: CommandeEtat  «enumeration»</text><line style="stroke:#181818;stroke-width:0.5;" x1="507.59" x2="761.1681" y1="217.6563" y2="217.6563"></line></g><!--class VenteProduit--><g class="entity" data-entity="VenteProduit" data-source-line="39" data-uid="ent0010" id="entity_VenteProduit"><rect fill="#F1F1F1" height="136.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.5029" x="565.09" y="325.6094"></rect><ellipse cx="590.6914" cy="341.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M593.457,337.4844 Q593.6132,337.2656 593.8007,337.1563 Q593.9882,337.0469 594.207,337.0469 Q594.582,337.0469 594.8164,337.3047 Q595.0507,337.5625 595.0507,338.1719 L595.0507,339.625 Q595.0507,340.2344 594.8164,340.5 Q594.582,340.7656 594.207,340.7656 Q593.8632,340.7656 593.6601,340.5625 Q593.457,340.375 593.3476,339.8594 Q593.3007,339.5 593.1132,339.3125 Q592.7851,338.9375 592.1757,338.7188 Q591.5664,338.5 590.9414,338.5 Q590.1757,338.5 589.5429,338.8281 Q588.9101,339.1563 588.4179,339.9063 Q587.9257,340.6563 587.9257,341.6875 L587.9257,342.7813 Q587.9257,344.0156 588.8164,344.8359 Q589.707,345.6563 591.3007,345.6563 Q592.2382,345.6563 592.8945,345.4063 Q593.2851,345.25 593.707,344.8125 Q593.9726,344.5469 594.1211,344.4688 Q594.2695,344.3906 594.4726,344.3906 Q594.8007,344.3906 595.0586,344.6484 Q595.3164,344.9063 595.3164,345.25 Q595.3164,345.5938 594.9726,346 Q594.4726,346.5781 593.6757,346.9063 Q592.5976,347.3594 591.3007,347.3594 Q589.7851,347.3594 588.582,346.7344 Q587.5976,346.2344 586.9101,345.1641 Q586.2226,344.0938 586.2226,342.8125 L586.2226,341.6563 Q586.2226,340.3281 586.8398,339.1797 Q587.457,338.0313 588.5507,337.4141 Q589.6445,336.7969 590.8789,336.7969 Q591.6132,336.7969 592.2617,336.9609 Q592.9101,337.125 593.457,337.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.9443" x="607.0472" y="347.3379">VenteProduit</text><line style="stroke:#181818;stroke-width:0.5;" x1="566.09" x2="700.5929" y1="357.6094" y2="357.6094"></line><ellipse cx="576.09" cy="371.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="585.09" y="376.1426">id: int</text><ellipse cx="576.09" cy="389.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4961" x="585.09" y="393.752">vente_id: int</text><ellipse cx="576.09" cy="407.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0547" x="585.09" y="411.3613">produit_id: int</text><ellipse cx="576.09" cy="424.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3857" x="585.09" y="428.9707">quantite: int</text><ellipse cx="576.09" cy="442.3516" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.5029" x="585.09" y="446.5801">prix_unitaire: float</text><line style="stroke:#181818;stroke-width:0.5;" x1="566.09" x2="700.5929" y1="453.6563" y2="453.6563"></line></g><!--class CommandeEtat--><g class="entity" data-entity="CommandeEtat" data-source-line="47" data-uid="ent0011" id="entity_CommandeEtat"><rect fill="#F1F1F1" height="153.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.1445" x="316.09" y="80.6094"></rect><ellipse cx="342.7342" cy="96.6094" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M341.5936,97.4063 L341.5936,99.9063 L345.9217,99.9063 L345.9217,98.9844 Q345.9217,98.375 346.1639,98.1094 Q346.4061,97.8438 346.7811,97.8438 Q347.1561,97.8438 347.3904,98.1094 Q347.6248,98.375 347.6248,98.9844 L347.6248,101.6094 L339.6248,101.6094 Q338.9998,101.6094 338.742,101.375 Q338.4842,101.1406 338.4842,100.75 Q338.4842,100.375 338.7498,100.1406 Q339.0154,99.9063 339.6248,99.9063 L339.8904,99.9063 L339.8904,93.25 L339.6248,93.25 Q338.9998,93.25 338.742,93.0156 Q338.4842,92.7813 338.4842,92.3906 Q338.4842,92.0156 338.742,91.7813 Q338.9998,91.5469 339.6248,91.5469 L347.2498,91.5469 L347.2498,94.1406 Q347.2498,94.75 347.0233,95.0078 Q346.7967,95.2656 346.4061,95.2656 Q346.0311,95.2656 345.7967,95.0078 Q345.5623,94.75 345.5623,94.1406 L345.5623,93.25 L341.5936,93.25 L341.5936,95.7031 L343.0779,95.7031 Q343.0779,95.0469 343.2029,94.8594 Q343.4686,94.4531 343.9373,94.4531 Q344.3123,94.4531 344.5467,94.7109 Q344.7811,94.9688 344.7811,95.5781 L344.7811,97.5469 Q344.7811,98.0938 344.6561,98.2813 Q344.3904,98.6719 343.9373,98.6719 Q343.4686,98.6719 343.2029,98.2656 Q343.0779,98.0781 343.0779,97.4063 L341.5936,97.4063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2686" x="359.3218" y="102.3379">CommandeEtat</text><line style="stroke:#181818;stroke-width:0.5;" x1="317.09" x2="470.2345" y1="112.6094" y2="112.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.8965" x="322.09" y="131.1426">CREATED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5791" x="322.09" y="148.752">STOCK_VERIFIED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.0342" x="322.09" y="166.3613">STOCK_RESERVED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143.1445" x="322.09" y="183.9707">PAYMENT_SUCCESS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.7725" x="322.09" y="201.5801">CONFIRMED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0273" x="322.09" y="219.1895">CANCELLED</text><line style="stroke:#181818;stroke-width:0.5;" x1="317.09" x2="470.2345" y1="226.2656" y2="226.2656"></line></g><!--class Panier--><g class="entity" data-entity="Panier" data-source-line="58" data-uid="ent0013" id="entity_Panier"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219.792" x="951.59" y="98.6094"></rect><ellipse cx="1037.0016" cy="114.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1039.7672,110.4844 Q1039.9235,110.2656 1040.111,110.1563 Q1040.2985,110.0469 1040.5172,110.0469 Q1040.8922,110.0469 1041.1266,110.3047 Q1041.361,110.5625 1041.361,111.1719 L1041.361,112.625 Q1041.361,113.2344 1041.1266,113.5 Q1040.8922,113.7656 1040.5172,113.7656 Q1040.1735,113.7656 1039.9704,113.5625 Q1039.7672,113.375 1039.6579,112.8594 Q1039.611,112.5 1039.4235,112.3125 Q1039.0954,111.9375 1038.486,111.7188 Q1037.8766,111.5 1037.2516,111.5 Q1036.486,111.5 1035.8532,111.8281 Q1035.2204,112.1563 1034.7282,112.9063 Q1034.236,113.6563 1034.236,114.6875 L1034.236,115.7813 Q1034.236,117.0156 1035.1266,117.8359 Q1036.0172,118.6563 1037.611,118.6563 Q1038.5485,118.6563 1039.2047,118.4063 Q1039.5954,118.25 1040.0172,117.8125 Q1040.2829,117.5469 1040.4313,117.4688 Q1040.5797,117.3906 1040.7829,117.3906 Q1041.111,117.3906 1041.3688,117.6484 Q1041.6266,117.9063 1041.6266,118.25 Q1041.6266,118.5938 1041.2829,119 Q1040.7829,119.5781 1039.986,119.9063 Q1038.9079,120.3594 1037.611,120.3594 Q1036.0954,120.3594 1034.8922,119.7344 Q1033.9079,119.2344 1033.2204,118.1641 Q1032.5329,117.0938 1032.5329,115.8125 L1032.5329,114.6563 Q1032.5329,113.3281 1033.1501,112.1797 Q1033.7672,111.0313 1034.861,110.4141 Q1035.9547,109.7969 1037.1891,109.7969 Q1037.9235,109.7969 1038.5719,109.9609 Q1039.2204,110.125 1039.7672,110.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.4688" x="1057.5016" y="120.3379">Panier</text><line style="stroke:#181818;stroke-width:0.5;" x1="952.59" x2="1170.382" y1="130.6094" y2="130.6094"></line><ellipse cx="962.59" cy="144.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="971.59" y="149.1426">id: int</text><ellipse cx="962.59" cy="162.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9307" x="971.59" y="166.752">client_id: int</text><ellipse cx="962.59" cy="180.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.3164" x="971.59" y="184.3613">date_creation: datetime</text><ellipse cx="962.59" cy="197.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.792" x="971.59" y="201.9707">etat: PanierEtat «enumeration»</text><line style="stroke:#181818;stroke-width:0.5;" x1="952.59" x2="1170.382" y1="209.0469" y2="209.0469"></line></g><!--class PanierProduit--><g class="entity" data-entity="PanierProduit" data-source-line="65" data-uid="ent0014" id="entity_PanierProduit"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116.8271" x="962.09" y="334.6094"></rect><ellipse cx="977.09" cy="350.6094" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M979.8556,346.4844 Q980.0119,346.2656 980.1994,346.1563 Q980.3869,346.0469 980.6056,346.0469 Q980.9806,346.0469 981.215,346.3047 Q981.4494,346.5625 981.4494,347.1719 L981.4494,348.625 Q981.4494,349.2344 981.215,349.5 Q980.9806,349.7656 980.6056,349.7656 Q980.2619,349.7656 980.0588,349.5625 Q979.8556,349.375 979.7463,348.8594 Q979.6994,348.5 979.5119,348.3125 Q979.1838,347.9375 978.5744,347.7188 Q977.965,347.5 977.34,347.5 Q976.5744,347.5 975.9416,347.8281 Q975.3088,348.1563 974.8166,348.9063 Q974.3244,349.6563 974.3244,350.6875 L974.3244,351.7813 Q974.3244,353.0156 975.215,353.8359 Q976.1056,354.6563 977.6994,354.6563 Q978.6369,354.6563 979.2931,354.4063 Q979.6838,354.25 980.1056,353.8125 Q980.3713,353.5469 980.5197,353.4688 Q980.6681,353.3906 980.8713,353.3906 Q981.1994,353.3906 981.4572,353.6484 Q981.715,353.9063 981.715,354.25 Q981.715,354.5938 981.3713,355 Q980.8713,355.5781 980.0744,355.9063 Q978.9963,356.3594 977.6994,356.3594 Q976.1838,356.3594 974.9806,355.7344 Q973.9963,355.2344 973.3088,354.1641 Q972.6213,353.0938 972.6213,351.8125 L972.6213,350.6563 Q972.6213,349.3281 973.2384,348.1797 Q973.8556,347.0313 974.9494,346.4141 Q976.0431,345.7969 977.2775,345.7969 Q978.0119,345.7969 978.6603,345.9609 Q979.3088,346.125 979.8556,346.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.8271" x="991.09" y="356.3379">PanierProduit</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.09" x2="1077.9171" y1="366.6094" y2="366.6094"></line><ellipse cx="973.09" cy="380.9141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4619" x="982.09" y="385.1426">id: int</text><ellipse cx="973.09" cy="398.5234" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.165" x="982.09" y="402.752">panier_id: int</text><ellipse cx="973.09" cy="416.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0547" x="982.09" y="420.3613">produit_id: int</text><ellipse cx="973.09" cy="433.7422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3857" x="982.09" y="437.9707">quantite: int</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.09" x2="1077.9171" y1="445.0469" y2="445.0469"></line></g><!--class PanierEtat--><g class="entity" data-entity="PanierEtat" data-source-line="72" data-uid="ent0015" id="entity_PanierEtat"><rect fill="#F1F1F1" height="100.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.3721" x="819.09" y="107.1094"></rect><ellipse cx="834.09" cy="123.1094" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M832.9494,123.9063 L832.9494,126.4063 L837.2775,126.4063 L837.2775,125.4844 Q837.2775,124.875 837.5197,124.6094 Q837.7619,124.3438 838.1369,124.3438 Q838.5119,124.3438 838.7463,124.6094 Q838.9806,124.875 838.9806,125.4844 L838.9806,128.1094 L830.9806,128.1094 Q830.3556,128.1094 830.0978,127.875 Q829.84,127.6406 829.84,127.25 Q829.84,126.875 830.1056,126.6406 Q830.3713,126.4063 830.9806,126.4063 L831.2463,126.4063 L831.2463,119.75 L830.9806,119.75 Q830.3556,119.75 830.0978,119.5156 Q829.84,119.2813 829.84,118.8906 Q829.84,118.5156 830.0978,118.2813 Q830.3556,118.0469 830.9806,118.0469 L838.6056,118.0469 L838.6056,120.6406 Q838.6056,121.25 838.3791,121.5078 Q838.1525,121.7656 837.7619,121.7656 Q837.3869,121.7656 837.1525,121.5078 Q836.9181,121.25 836.9181,120.6406 L836.9181,119.75 L832.9494,119.75 L832.9494,122.2031 L834.4338,122.2031 Q834.4338,121.5469 834.5588,121.3594 Q834.8244,120.9531 835.2931,120.9531 Q835.6681,120.9531 835.9025,121.2109 Q836.1369,121.4688 836.1369,122.0781 L836.1369,124.0469 Q836.1369,124.5938 836.0119,124.7813 Q835.7463,125.1719 835.2931,125.1719 Q834.8244,125.1719 834.5588,124.7656 Q834.4338,124.5781 834.4338,123.9063 L832.9494,123.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3721" x="848.09" y="128.8379">PanierEtat</text><line style="stroke:#181818;stroke-width:0.5;" x1="820.09" x2="915.4621" y1="139.1094" y2="139.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.793" x="825.09" y="157.6426">EN_COURS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.7998" x="825.09" y="175.252">VALIDE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.793" x="825.09" y="192.8613">ANNULE</text><line style="stroke:#181818;stroke-width:0.5;" x1="820.09" x2="915.4621" y1="199.9375" y2="199.9375"></line></g><!--link Stock to Produit--><g class="link" data-entity-1="Stock" data-entity-2="Produit" data-source-line="80" data-uid="lnk16" id="link_Stock_Produit"><path codeline="80" d="M71.37,216.8594 C41.4,288.1294 6,408.7694 66.59,485.6094 C129.58,565.4994 437.2279,603.2014 569.0679,615.9614" fill="none" id="Stock-to-Produit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="575.04,616.5394,566.4672,611.691,570.0633,616.0577,565.6965,619.6538,575.04,616.5394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3271" x="67.59" y="399.1045">via produit_id</text></g><!--link Stock to Magasin--><g class="link" data-entity-1="Stock" data-entity-2="Magasin" data-source-line="81" data-uid="lnk17" id="link_Stock_Magasin"><path codeline="81" d="M127.17,216.7494 C144.19,252.6194 163.3578,293.0487 180.3878,328.9387" fill="none" id="Stock-to-Magasin" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="182.96,334.3594,182.7156,324.5136,180.8165,329.8421,175.488,327.9431,182.96,334.3594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7153" x="155.59" y="279.1045">via magasin_id</text></g><!--link Vente to Magasin--><g class="link" data-entity-1="Vente" data-entity-2="Magasin" data-source-line="82" data-uid="lnk18" id="link_Vente_Magasin"><path codeline="82" d="M521.59,225.6994 C510.61,231.1094 499.5,236.1894 488.59,240.6094 C408.07,273.2594 373.39,244.7494 299.59,290.6094 C281.32,301.9594 268.6331,313.6554 254.8631,329.8754" fill="none" id="Vente-to-Magasin" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="250.98,334.4494,259.854,330.1771,254.2159,330.6377,253.7553,324.9996,250.98,334.4494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7153" x="361.59" y="279.1045">via magasin_id</text></g><!--link VenteProduit to Vente--><g class="link" data-entity-1="VenteProduit" data-entity-2="Vente" data-source-line="83" data-uid="lnk19" id="link_VenteProduit_Vente"><path codeline="83" d="M633.88,325.5494 C634.01,294.2094 634.1451,262.9993 634.2751,231.6693" fill="none" id="VenteProduit-to-Vente" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="634.3,225.6694,630.2627,234.6527,634.2793,230.6693,638.2626,234.6859,634.3,225.6694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3799" x="634.59" y="279.1045">via vente_id</text></g><!--link Vente to VenteProduit--><g class="link" data-entity-1="Vente" data-entity-2="VenteProduit" data-source-line="89" data-uid="lnk23" id="link_Vente_VenteProduit"><path codeline="89" d="M628.02,225.8494 C627.01,238.6994 626.12,252.0594 625.59,264.6094 C624.75,284.4094 625.0666,299.9223 626.3566,319.5523" fill="none" id="Vente-to-VenteProduit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="626.75,325.5394,630.1512,316.2964,626.4221,320.5501,622.1684,316.821,626.75,325.5394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="620.0151" y="247.2225">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0591" x="620.7589" y="314.731">*</text></g><!--link VenteProduit to Produit--><g class="link" data-entity-1="VenteProduit" data-entity-2="Produit" data-source-line="84" data-uid="lnk20" id="link_VenteProduit_Produit"><path codeline="84" d="M633.59,461.7994 C633.59,494.0894 633.59,526.4194 633.59,557.4394" fill="none" id="VenteProduit-to-Produit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="633.59,563.4394,637.59,554.4394,633.59,558.4394,629.59,554.4394,633.59,563.4394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3271" x="634.59" y="508.1045">via produit_id</text></g><!--link PanierProduit to Panier--><g class="link" data-entity-1="PanierProduit" data-entity-2="Panier" data-source-line="85" data-uid="lnk21" id="link_PanierProduit_Panier"><path codeline="85" d="M1030.8,334.3594 C1037.08,298.4694 1044.0853,258.5295 1050.3653,222.6595" fill="none" id="PanierProduit-to-Panier" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1051.4,216.7494,1045.9078,224.9247,1050.5377,221.6745,1053.788,226.3043,1051.4,216.7494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.7153" x="1042.59" y="279.1045">via panier_id</text></g><!--link Panier to PanierProduit--><g class="link" data-entity-1="Panier" data-entity-2="PanierProduit" data-source-line="90" data-uid="lnk24" id="link_Panier_PanierProduit"><path codeline="90" d="M1043.72,216.7894 C1039.52,232.2094 1035.45,248.9394 1032.59,264.6094 C1028.47,287.2294 1026.2126,306.3796 1024.4026,328.3496" fill="none" id="Panier-to-PanierProduit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1023.91,334.3294,1028.6355,325.6882,1024.3205,329.3463,1020.6625,325.0313,1023.91,334.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1034.1422" y="238.4668">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5.0591" x="1019.0241" y="323.6195">*</text></g><!--link PanierProduit to Produit--><g class="link" data-entity-1="PanierProduit" data-entity-2="Produit" data-source-line="86" data-uid="lnk22" id="link_PanierProduit_Produit"><path codeline="86" d="M961.81,429.0894 C888.86,471.8794 770.3755,541.3738 697.4555,584.1438" fill="none" id="PanierProduit-to-Produit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="692.28,587.1794,702.0669,586.0763,696.5929,584.6497,698.0195,579.1757,692.28,587.1794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.3271" x="850.59" y="508.1045">via produit_id</text></g><!--SRC=[fLN1Zjem4BtdAqOSsjrM77f5AoGKl18gX5K2I3qXoqofkucJsawqLRN_qYlVaH-h7GUIR81IDGT8PiOpRzxps9hh667AwLxI947O8R2OAeKAXh394HQSoLIXB3WpDbeWWuZkARm3Kg3G4AMvP5piFI-Zx9dk4GQPJ7SvrzjwrG1-UM2UAYyyEMTjiyz7lXi15xenY3GPWTAoiMIIlupWQvpILjWE5PCyqpmLJVYhzzg2edJAdiy3YQphAenZ7pr7OWXGNFGTFt8gDDVOcBjm6EM6MhYh4znt4IsSzH-fCJMbvYZVcFNF32-nOeN3ywnihEigWelDxwX9-WrpQUhQTyqJRE59DOrx4gAcUWH-cYHKx92OBu271nHvWf9QOSVZ6lzRZBVi8zVdxRhsvJjjlcqkkARSzjQqKAEoSBizDA3ya4nMP7hwZbPB__DsGyBPuwnd3ab4matB_3JviY31QXkjVPz4KPDr6JpEmaKhqfy4FfdFQqjNxemAipykZ6FbkyeYYxdXyOBUJ29r0zYNt8dhAbIqd5VM_lOGtI9ltTV_wDjMi0MqgKg2hRzSXmtrcybyDYMdpqaGhEUa8VqzX1XN_Id05urIc5FpBgCIPbDrxxb3PpWSdyx14HISGWEv5N8y3rn8CtUU6zA_Xnnhs4YtniKTvw8VTH5LLvKgrEsSEl8enRd0IpaDMNEpjHImL33CT8wngdiRV1fKQmSV1frnhzDt_9sADgcxc5HzCPcwre19PRJa8kWqLn0RPSf3KHwSJq5I7kn1MccOfUPG5NkJzJioAoUWqf0BXC9SYWdLvK5o6dDL7ioDASk3_Iz_6oBCEcckqMvkxmy0]--></g></svg></p><hr>
<h2 id="6-vue-dexécution-runtime">6. Vue d’exécution (runtime) </h2>
<p>Scénario : Création d’une commande client avec Saga orchestrée synchrone</p>
<ul>
<li>Le client finalise son panier dans le service Panier.</li>
<li>Le service Caisse reçoit la demande de création de commande.</li>
<li>Le service Orchestrateur Saga démarre la saga à l’événement CommandeCréée.</li>
<li>L’orchestrateur appelle synchronement le service Stock pour vérifier et réserver les articles.</li>
<li>Si le stock est disponible, l’orchestrateur appelle le service Vente pour effectuer le paiement.</li>
<li>Si le paiement est accepté, l’orchestrateur confirme la commande (CommandeConfirmée).</li>
<li>En cas d’échec (stock insuffisant ou paiement refusé), l’orchestrateur lance les actions de compensation (ex : libération du stock) et annule la commande.</li>
<li>Chaque service publie ses événements métier vers le bus d’événements pour assurer la traçabilité, la mise à jour de la machine d’état et les projections CQRS.</li>
</ul>
<p>Vue des processus : le diagramme de séquence suivant démontre le fonctionnement de la cération d'une commande avec la saga ajoutée au système.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="866px" preserveAspectRatio="none" style="width:1227px;height:866px;background:#FFFFFF;" version="1.1" viewBox="0 0 1227 866" width="1227px" zoomAndPan="magnify"><title>Séquence - Création de commande avec Saga orchestrée synchrone</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="455.9502" x="386.908" y="29.5332">Séquence - Création de commande avec Saga orchestrée synchrone</text><rect fill="none" height="446.5938" style="stroke:#000000;stroke-width:1.5;" width="831.6509" x="389.1152" y="320.3281"></rect><rect fill="none" height="246.6484" style="stroke:#000000;stroke-width:1.5;" width="811.6509" x="399.1152" y="406.3828"></rect><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="21.8965" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="25" x2="25" y1="121.2188" y2="783.9219"></line></g><g><title>Frontend</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="130.4409" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="134.4238" x2="134.4238" y1="121.2188" y2="783.9219"></line></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="321.3716" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="324.52" x2="324.52" y1="121.2188" y2="783.9219"></line></g><g><title>Service Caisse</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="458.7979" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="462.1152" x2="462.1152" y1="121.2188" y2="783.9219"></line></g><g><title>Orchestrateur Saga</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="684.3677" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="688.2817" x2="688.2817" y1="121.2188" y2="783.9219"></line></g><g><title>Service Stock</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="930.8911" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="934.0981" x2="934.0981" y1="121.2188" y2="783.9219"></line></g><g><title>Service Vente</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="1041.2632" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1044.6841" x2="1044.6841" y1="121.2188" y2="783.9219"></line></g><g><title>Event Broker</title><rect fill="#000000" fill-opacity="0.00000" height="662.7031" width="8" x="1149.3042" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1152.8423" x2="1152.8423" y1="121.2188" y2="783.9219"></line></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="118.1426">Client</text><ellipse cx="25.8965" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M25.8965,60.1094 L25.8965,87.1094 M12.8965,68.1094 L38.8965,68.1094 M25.8965,87.1094 L12.8965,102.1094 M25.8965,87.1094 L38.8965,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="5" y="797.4551">Client</text><ellipse cx="25.8965" cy="809.0313" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M25.8965,817.0313 L25.8965,844.0313 M12.8965,825.0313 L38.8965,825.0313 M25.8965,844.0313 L12.8965,859.0313 M25.8965,844.0313 L38.8965,859.0313" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.0342" x="99.4238" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.0342" x="106.4238" y="110.1426">Frontend</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.0342" x="99.4238" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.0342" x="106.4238" y="804.4551">Frontend</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="277.52" y="71"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="284.52" y="92.5332">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1172" x="302.813" y="110.1426">(Nginx)</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="277.52" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="284.52" y="804.4551">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1172" x="302.813" y="822.0645">(Nginx)</text></g><g class="participant participant-head" data-participant="Caisse"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3652" x="409.1152" y="71"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3652" x="416.1152" y="92.5332">Service Caisse</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.7998" x="427.3979" y="110.1426">(api_views)</text></g><g class="participant participant-tail" data-participant="Caisse"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3652" x="409.1152" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3652" x="416.1152" y="804.4551">Service Caisse</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.7998" x="427.3979" y="822.0645">(api_views)</text></g><g class="participant participant-head" data-participant="Saga"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.1719" x="620.2817" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.1719" x="627.2817" y="110.1426">Orchestrateur Saga</text></g><g class="participant participant-tail" data-participant="Saga"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.1719" x="620.2817" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.1719" x="627.2817" y="804.4551">Orchestrateur Saga</text></g><g class="participant participant-head" data-participant="Stock"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5859" x="885.0981" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5859" x="892.0981" y="110.1426">Service Stock</text></g><g class="participant participant-tail" data-participant="Stock"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.5859" x="885.0981" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5859" x="892.0981" y="804.4551">Service Stock</text></g><g class="participant participant-head" data-participant="Vente"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="994.6841" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="1001.6841" y="110.1426">Service Vente</text></g><g class="participant participant-tail" data-participant="Vente"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.1582" x="994.6841" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.1582" x="1001.6841" y="804.4551">Service Vente</text></g><g class="participant participant-head" data-participant="EventBroker"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.9238" x="1105.8423" y="71"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.9238" x="1112.8423" y="92.5332">Event Broker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0342" x="1121.7871" y="110.1426">(Pub/Sub)</text></g><g class="participant participant-tail" data-participant="EventBroker"><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.9238" x="1105.8423" y="782.9219"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.9238" x="1112.8423" y="804.4551">Event Broker</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0342" x="1121.7871" y="822.0645">(Pub/Sub)</text></g><g class="message" data-participant-1="Client" data-participant-2="FE"><polygon fill="#181818" points="122.4409,149.5703,132.4409,153.5703,122.4409,157.5703,126.4409,153.5703" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="25.8965" x2="128.4409" y1="153.5703" y2="153.5703"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.5444" x="32.8965" y="148.7139">Finalise panier</text></g><g class="message" data-participant-1="FE" data-participant-2="API"><polygon fill="#181818" points="313.3716,179.9219,323.3716,183.9219,313.3716,187.9219,317.3716,183.9219" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="134.4409" x2="319.3716" y1="183.9219" y2="183.9219"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.9307" x="141.4409" y="179.0654">Requête création commande</text></g><g class="message" data-participant-1="API" data-participant-2="Caisse"><polygon fill="#181818" points="450.7979,210.2734,460.7979,214.2734,450.7979,218.2734,454.7979,214.2734" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="325.3716" x2="456.7979" y1="214.2734" y2="214.2734"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.4263" x="332.3716" y="209.417">POST /commandes</text></g><g class="message" data-participant-1="Caisse" data-participant-2="Saga"><polygon fill="#181818" points="676.3677,240.625,686.3677,244.625,676.3677,248.625,680.3677,244.625" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.7979" x2="682.3677" y1="244.625" y2="244.625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.5698" x="469.7979" y="239.7686">Démarrer saga (CommandeCréée)</text></g><g class="message" data-participant-1="Saga" data-participant-2="Stock"><polygon fill="#181818" points="922.8911,270.9766,932.8911,274.9766,922.8911,278.9766,926.8911,274.9766" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="688.3677" x2="928.8911" y1="274.9766" y2="274.9766"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.8735" x="695.3677" y="270.1201">Vérifier et réserver stock</text></g><g class="message" data-participant-1="Stock" data-participant-2="Saga"><polygon fill="#181818" points="699.3677,301.3281,689.3677,305.3281,699.3677,309.3281,695.3677,305.3281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="693.3677" x2="933.8911" y1="305.3281" y2="305.3281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.5234" x="705.3677" y="300.4717">Stock réservé / Erreur stock insuffisant</text></g><path d="M389.1152,320.3281 L449.2861,320.3281 L449.2861,328.6797 L439.2861,338.6797 L389.1152,338.6797 L389.1152,320.3281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="446.5938" style="stroke:#000000;stroke-width:1.5;" width="831.6509" x="389.1152" y="320.3281"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="404.1152" y="334.8232">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79.4868" x="464.2861" y="333.7471">[Stock réservé]</text><g class="message" data-participant-1="Saga" data-participant-2="Vente"><polygon fill="#181818" points="1033.2632,357.0313,1043.2632,361.0313,1033.2632,365.0313,1037.2632,361.0313" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="688.3677" x2="1039.2632" y1="361.0313" y2="361.0313"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1162" x="695.3677" y="356.1748">Effectuer paiement</text></g><g class="message" data-participant-1="Vente" data-participant-2="Saga"><polygon fill="#181818" points="699.3677,387.3828,689.3677,391.3828,699.3677,395.3828,695.3677,391.3828" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="693.3677" x2="1044.2632" y1="391.3828" y2="391.3828"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2661" x="705.3677" y="386.5264">Paiement réussi / paiement refusé</text></g><path d="M399.1152,406.3828 L459.2861,406.3828 L459.2861,414.7344 L449.2861,424.7344 L399.1152,424.7344 L399.1152,406.3828" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="246.6484" style="stroke:#000000;stroke-width:1.5;" width="811.6509" x="399.1152" y="406.3828"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="414.1152" y="420.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91.7007" x="474.2861" y="419.8018">[Paiement réussi]</text><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,443.0859,463.7979,447.0859,473.7979,451.0859,469.7979,447.0859" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="467.7979" x2="687.3677" y1="447.0859" y2="447.0859"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.9854" x="479.7979" y="442.2295">Confirmer commande</text></g><g class="message" data-participant-1="Caisse" data-participant-2="EventBroker"><polygon fill="#181818" points="1141.3042,473.4375,1151.3042,477.4375,1141.3042,481.4375,1145.3042,477.4375" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.7979" x2="1147.3042" y1="477.4375" y2="477.4375"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.2407" x="469.7979" y="472.5811">Publier CommandeConfirmée</text></g><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,503.7891,463.7979,507.7891,473.7979,511.7891,469.7979,507.7891" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="467.7979" x2="687.3677" y1="507.7891" y2="507.7891"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="479.7979" y="502.9326">Succès</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="399.1152" x2="1210.7661" y1="516.7891" y2="516.7891"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92.3076" x="404.1152" y="528.208">[Paiement refusé]</text><g class="message" data-participant-1="Saga" data-participant-2="Stock"><polygon fill="#181818" points="922.8911,549.9766,932.8911,553.9766,922.8911,557.9766,926.8911,553.9766" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="688.3677" x2="928.8911" y1="553.9766" y2="553.9766"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6289" x="695.3677" y="549.1201">Libérer stock (compensation)</text></g><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,580.3281,463.7979,584.3281,473.7979,588.3281,469.7979,584.3281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="467.7979" x2="687.3677" y1="584.3281" y2="584.3281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.728" x="479.7979" y="579.4717">Annuler commande</text></g><g class="message" data-participant-1="Caisse" data-participant-2="EventBroker"><polygon fill="#181818" points="1141.3042,610.6797,1151.3042,614.6797,1141.3042,618.6797,1145.3042,614.6797" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.7979" x2="1147.3042" y1="614.6797" y2="614.6797"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.9834" x="469.7979" y="609.8232">Publier CommandeAnnulée</text></g><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,641.0313,463.7979,645.0313,473.7979,649.0313,469.7979,645.0313" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="467.7979" x2="687.3677" y1="645.0313" y2="645.0313"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.2217" x="479.7979" y="640.1748">Échec paiement</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="389.1152" x2="1220.7661" y1="661.0313" y2="661.0313"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95.9492" x="394.1152" y="672.4502">[Stock insuffisant]</text><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,694.2188,463.7979,698.2188,473.7979,702.2188,469.7979,698.2188" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="467.7979" x2="687.3677" y1="698.2188" y2="698.2188"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.728" x="479.7979" y="693.3623">Annuler commande</text></g><g class="message" data-participant-1="Caisse" data-participant-2="EventBroker"><polygon fill="#181818" points="1141.3042,724.5703,1151.3042,728.5703,1141.3042,732.5703,1145.3042,728.5703" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.7979" x2="1147.3042" y1="728.5703" y2="728.5703"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.9834" x="469.7979" y="723.7139">Publier CommandeAnnulée</text></g><g class="message" data-participant-1="Saga" data-participant-2="Caisse"><polygon fill="#181818" points="473.7979,754.9219,463.7979,758.9219,473.7979,762.9219,469.7979,758.9219" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="467.7979" x2="687.3677" y1="758.9219" y2="758.9219"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.0845" x="479.7979" y="754.0654">Échec stock</text></g><!--SRC=[fPJFRjim3CRlUWgYf-GGv9x3W2vBYW73Qin3JmC6HQLRehRiwa-wFiBUPDvh-CL6IRPhP-amR3a9v4_anuzo7BaI8U_QHuzQ8QnWQxfMEgert2AekggaveCyee9StaceZRf7wvX2iCzQtPjQen1IkTh0jYJKJZJIE5BKIEtWOi-0Gtrx0TB2VZTFNcRluKewV9BFN_JYuntfRyi8Sc9EvcYEn0gtagn5XcL3Nu-4JpPTIF7vdUjUApVm9igFQ3YSBvwxMZqa9fpEGpSy8aOedkRGxiWnU6lg1pGiClE7TUuFIMBCfPGGoIfOlM5FO0Dxqh8aYy1bYFCSv5ImPmEVyD5tFnslOzpDi1WH20RJzCncr_bdM0zfA_e48t5x6tZNjPKq1WtO45XiUpJidNUw52A2uKAmW6_STAsXWaK1Ec3AiW_XUdGeGQkN-YdGOrqBQzXnDz_pGDhweY3BPWbPkbDS0Fy60T5UBhah2bJESyz64bRXXGKifIUjipuRodbhYNitOmWBR_lweUyf6nFJvgEZsreNP2hkFfe-i2_cJbORXFX36VmQlKqbsDwJDjC-kLUg-s4ZWIM7idFQfnA71NsW0wzeM0aiM6U3siQNidnzi4kjVVa_OyK2Vnwg-yvVe9hlZVyBH1mm_-r5_BtEVzBughxqbeEmNm00]--></g></svg></p><p>Vue des cas d'utilisation: Les cas d’utilisation suivants décrivent les interactions principales d’un utilisateur avec l’interface de la caisse.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="383px" preserveAspectRatio="none" style="width:1168px;height:383px;background:#FFFFFF;" version="1.1" viewBox="0 0 1168 383" width="1168px" zoomAndPan="magnify"><title>Cas d'utilisation - Système de commande avec Saga orchestrée</title><defs></defs><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="423.4932" x="365.7234" y="24.5332">Cas d'utilisation - Système de commande avec Saga orchestrée</text></g><!--cluster Application POS--><g class="cluster" data-entity="Application POS" data-source-line="6" data-uid="ent0004" id="cluster_Application POS"><rect fill="none" height="208" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="1131" x="7" y="169.1094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109.6758" x="517.6621" y="185.6426">Application POS</text></g><!--entity UC1--><g class="entity" data-entity="UC1" data-source-line="8" data-uid="ent0005" id="entity_UC1"><ellipse cx="507.0243" cy="226.6142" fill="#F1F1F1" rx="68.0243" ry="16.0049" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.71" x="459.1693" y="231.9189">Finaliser panier</text></g><!--entity UC2--><g class="entity" data-entity="UC2" data-source-line="9" data-uid="ent0006" id="entity_UC2"><ellipse cx="683.2298" cy="226.5553" fill="#F1F1F1" rx="72.7298" ry="16.946" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1514" x="629.1541" y="231.86">Créer commande</text></g><!--entity UC3--><g class="entity" data-entity="UC3" data-source-line="10" data-uid="ent0007" id="entity_UC3"><ellipse cx="117.9456" cy="226.3985" fill="#F1F1F1" rx="94.4456" ry="21.2891" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.3027" x="37.7943" y="231.7032">Consulter état commande</text></g><!--entity UC4--><g class="entity" data-entity="UC4" data-source-line="11" data-uid="ent0008" id="entity_UC4"><ellipse cx="325.9834" cy="226.6061" fill="#F1F1F1" rx="77.9834" ry="17.9967" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3994" x="265.2837" y="231.9108">Annuler commande</text></g><!--entity UC5--><g class="entity" data-entity="UC5" data-source-line="13" data-uid="ent0009" id="entity_UC5"><ellipse cx="834.1603" cy="343.5611" fill="#F1F1F1" rx="54.1603" ry="15.4517" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3516" x="797.9845" y="348.8658">Gérer stock</text></g><!--entity UC6--><g class="entity" data-entity="UC6" data-source-line="14" data-uid="ent0010" id="entity_UC6"><ellipse cx="452.918" cy="343.793" fill="#F1F1F1" rx="76.418" ry="17.6836" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.5098" x="394.1631" y="349.0977">Effectuer paiement</text></g><!--entity UC7--><g class="entity" data-entity="UC7" data-source-line="15" data-uid="ent0011" id="entity_UC7"><ellipse cx="859.9712" cy="226.4036" fill="#F1F1F1" rx="69.4712" ry="16.2942" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.6064" x="810.168" y="231.7083">Générer rapport</text></g><!--entity UC8--><g class="entity" data-entity="UC8" data-source-line="16" data-uid="ent0012" id="entity_UC8"><ellipse cx="1043.1046" cy="226.7303" fill="#F1F1F1" rx="78.6046" ry="18.1209" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.9307" x="981.6392" y="232.035">Observer métriques</text></g><!--entity Client--><g class="entity" data-entity="Client" data-source-line="3" data-uid="ent0002" id="entity_Client"><ellipse cx="416.8965" cy="52.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M416.8965,60.6094 L416.8965,87.6094 M403.8965,68.6094 L429.8965,68.6094 M416.8965,87.6094 L403.8965,102.6094 M416.8965,87.6094 L429.8965,102.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.793" x="399" y="118.6426">Client</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="4" data-uid="ent0003" id="entity_Admin"><ellipse cx="1043.1274" cy="52.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M1043.1274,60.6094 L1043.1274,87.6094 M1030.1274,68.6094 L1056.1274,68.6094 M1043.1274,87.6094 L1030.1274,102.6094 M1043.1274,87.6094 L1056.1274,102.6094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2549" x="998" y="118.6426">Administrateur</text></g><!--link Client to UC1--><g class="link" data-entity-1="Client" data-entity-2="UC1" data-source-line="19" data-uid="lnk13" id="link_Client_UC1"><path d="M435.21,112.7394 C454.01,142.2994 479.4002,182.2165 494.1802,205.4565" fill="none" id="Client-to-UC1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="497.4,210.5194,495.9455,200.7785,494.7168,206.3003,489.195,205.0716,497.4,210.5194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Client to UC2--><g class="link" data-entity-1="Client" data-entity-2="UC2" data-source-line="20" data-uid="lnk14" id="link_Client_UC2"><path d="M435.08,90.5794 C467.65,102.5394 537.92,129.7794 593,161.1094 C618.73,175.7494 641.3625,192.402 659.0625,206.312" fill="none" id="Client-to-UC2" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="663.78,210.0194,659.1753,201.3132,659.8487,206.9299,654.2321,207.6033,663.78,210.0194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Client to UC3--><g class="link" data-entity-1="Client" data-entity-2="UC3" data-source-line="21" data-uid="lnk15" id="link_Client_UC3"><path d="M398.97,90.6994 C365.37,103.1794 291.1,131.6594 231,161.1094 C202.8,174.9194 177.0543,189.6614 154.7143,203.0714" fill="none" id="Client-to-UC3" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="149.57,206.1594,159.3452,204.957,153.857,203.586,155.2279,198.0978,149.57,206.1594" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Client to UC4--><g class="link" data-entity-1="Client" data-entity-2="UC4" data-source-line="22" data-uid="lnk16" id="link_Client_UC4"><path d="M398.8,112.3994 C380.34,141.1194 355.5957,179.5831 340.2557,203.4331" fill="none" id="Client-to-UC4" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="337.01,208.4794,345.2428,203.0737,339.7148,204.2741,338.5144,198.7461,337.01,208.4794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Admin to UC5--><g class="link" data-entity-1="Admin" data-entity-2="UC5" data-source-line="24" data-uid="lnk17" id="link_Admin_UC5"><path d="M1088.11,107.9594 C1107.56,120.8594 1128.28,138.7694 1139,161.1094 C1155.73,195.9694 1161.94,216.9794 1139,248.1094 C1107.96,290.2194 962.7993,320.5703 885.5693,334.1503" fill="none" id="Admin-to-UC5" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="879.66,335.1894,889.2167,337.5703,884.5844,334.3235,887.8313,329.6912,879.66,335.1894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Admin to UC7--><g class="link" data-entity-1="Admin" data-entity-2="UC7" data-source-line="25" data-uid="lnk18" id="link_Admin_UC7"><path d="M997.76,119.0894 C959.87,148.3894 912.3664,185.119 884.3564,206.779" fill="none" id="Admin-to-UC7" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="879.61,210.4494,889.1765,208.1081,883.5653,207.3907,884.2827,201.7795,879.61,210.4494" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Admin to UC8--><g class="link" data-entity-1="Admin" data-entity-2="UC8" data-source-line="26" data-uid="lnk19" id="link_Admin_UC8"><path d="M1043,122.3994 C1043,150.3894 1043,181.0394 1043,202.2894" fill="none" id="Admin-to-UC8" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1043,208.2894,1047,199.2894,1043,203.2894,1039,199.2894,1043,208.2894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link UC2 to UC5--><g class="link" data-entity-1="UC2" data-entity-2="UC5" data-source-line="28" data-uid="lnk20" id="link_UC2_UC5"><path d="M726.38,240.2494 C748.75,248.3694 775.37,260.7094 795,278.1094 C810.67,291.9994 819.5831,308.2233 825.8631,322.5633" fill="none" id="UC2-to-UC5" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="828.27,328.0594,828.3237,318.2107,826.2642,323.4793,820.9956,321.4199,828.27,328.0594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.8735" x="810" y="292.6045">Vérifier et réserver stock</text></g><!--link UC2 to UC6--><g class="link" data-entity-1="UC2" data-entity-2="UC6" data-source-line="29" data-uid="lnk21" id="link_UC2_UC6"><path d="M678.04,243.7194 C672.35,259.4694 661.48,282.9294 644,296.1094 C610.34,321.4794 570.6525,332.3707 532.4325,337.7007" fill="none" id="UC2-to-UC6" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="526.49,338.5294,535.9562,341.248,531.4421,337.8388,534.8513,333.3246,526.49,338.5294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1162" x="661" y="292.6045">Effectuer paiement</text></g><!--link UC4 to UC5--><g class="link" data-entity-1="UC4" data-entity-2="UC5" data-source-line="31" data-uid="lnk22" id="link_UC4_UC5"><path d="M360.7,242.8494 C382.28,252.5294 410.49,265.5694 435,278.1094 C449.53,285.5494 451.51,290.9894 467,296.1094 C574.17,331.5294 701.1622,340.0664 774.0122,342.0464" fill="none" id="UC4-to-UC5" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="780.01,342.2094,771.122,337.9663,775.0118,342.0735,770.9046,345.9634,780.01,342.2094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6289" x="468" y="292.6045">Libérer stock (compensation)</text></g><!--link UC4 to UC6--><g class="link" data-entity-1="UC4" data-entity-2="UC6" data-source-line="32" data-uid="lnk23" id="link_UC4_UC6"><path d="M281.43,241.4194 C249.55,253.6294 215.33,273.0494 234,296.1094 C252.47,318.9094 319.3742,330.3494 376.0542,336.4294" fill="none" id="UC4-to-UC6" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="382.02,337.0694,373.498,332.1323,377.0485,336.5361,372.6447,340.0866,382.02,337.0694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.1079" x="235" y="292.6045">Annuler paiement (compensation)</text></g><!--SRC=[PP9DJiCm48NtFiKe6s3H1VqN2wGg0ZP8HQfWxxhJOf7OmHvNGeZxq7FaOamJ1pcfb8LV_EdDovkGfW8XbnvsLu5qeRqaRGsCOFFbgVuj4NO8ofQbD7oGHrImaGS9rgbtzEJg4meX5La7UQ7HK1JPQbTgevcGXC5bm2EQLq8uL2JDWUTcgwegj6f7lgmt6NmB07w2HoKz0u_QI0w53YffDBO-h_bjokJd4Eu_P4J6FSGQ7mfYgZwHf24xITcLCQ6uz9iEaZtL9yUK9wi-8Z9Bxn_sU_xEq2JNM78paPeFN4nhv6HLMTT1YnHQRxc08pCbftVwCw2Fs5By2D7s3gFHVTDCJuxxSjANKo6QdKGvwwb5Jos5OBSEX3juuzXwpoi19E0Dn8XD7mawP_IoYhFPD35xrjkaJhZcxYiqxRzuax1djsu_dTUG_WC0]--></g></svg></p><hr>
<h2 id="7-vue-de-déploiement">7. Vue de déploiement </h2>
<p>Pour ce qui est du déploiement de l'application, les choses n'ont pas beaucoup changers. Ça repose encore sur Docker compose et chaque service est déployé dans son propre conteneur avec l'ajout du service d'orchestration.<br>
Actuellement, la stack comprend :</p>
<ul>
<li>Plusieurs conteneurs Python (Django REST) pour les services métier</li>
<li>Un conteneur MySQL partagé temporairement entre les services (étape transitoire avant une éventuelle séparation par base) ;</li>
<li>Un conteneur Redis pour la mise en cache ;</li>
<li>Un conteneur Nginx jouant le rôle à la fois d’API Gateway et de reverse proxy ;</li>
<li>Un conteneur Prometheus et un conteneur Grafana pour la supervision.</li>
<li>Un conteneur qui contient l'orchestrateur</li>
</ul>
<p>Le déploiement est centralisé dans un fichier docker-compose.yml qui décrit la configuration réseau, les dépendances inter-services, les volumes de persistance (notamment pour MySQL et Grafana), ainsi que les points d’entrée des services. Le cache Redis et la base MySQL utilisent des volumes Docker pour garantir la persistance des données.</p>
<p>Vue physique: Voici un diagramme de déploiement<br>
Une image sera aussi inclus pour ce diagramme.</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="952px" preserveAspectRatio="none" style="width:2369px;height:952px;background:#FFFFFF;" version="1.1" viewBox="0 0 2369 952" width="2369px" zoomAndPan="magnify"><defs></defs><g><!--cluster Client--><g class="cluster" data-entity="Client" data-source-line="1" data-uid="ent0002" id="cluster_Client"><polygon fill="none" points="1558,16,1568,6,1765,6,1765,117,1755,127,1558,127,1558,16" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1755" x2="1765" y1="16" y2="6"></line><line style="stroke:#181818;stroke-width:1;" x1="1558" x2="1755" y1="16" y2="16"></line><line style="stroke:#181818;stroke-width:1;" x1="1755" x2="1755" y1="16" y2="127"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38.8896" x="1638.0552" y="33.5332">Client</text></g><!--cluster APIGateway--><g class="cluster" data-entity="APIGateway" data-source-line="5" data-uid="ent0004" id="cluster_APIGateway"><polygon fill="none" points="1465,195,1475,185,1667,185,1667,290,1657,300,1465,300,1465,195" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1657" x2="1667" y1="195" y2="185"></line><line style="stroke:#181818;stroke-width:1;" x1="1465" x2="1657" y1="195" y2="195"></line><line style="stroke:#181818;stroke-width:1;" x1="1657" x2="1657" y1="195" y2="300"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84.8135" x="1519.5933" y="212.5332">API Gateway</text></g><!--cluster AppServer--><g class="cluster" data-entity="AppServer" data-source-line="9" data-uid="ent0006" id="cluster_AppServer"><polygon fill="none" points="610,376,620,366,1539,366,1539,643,1529,653,610,653,610,376" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1529" x2="1539" y1="376" y2="366"></line><line style="stroke:#181818;stroke-width:1;" x1="610" x2="1529" y1="376" y2="376"></line><line style="stroke:#181818;stroke-width:1;" x1="1529" x2="1529" y1="376" y2="653"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="119.8135" x="1010.5933" y="393.5332">Serveur Applicatif</text></g><!--cluster DBServer--><g class="cluster" data-entity="DBServer" data-source-line="19" data-uid="ent0014" id="cluster_DBServer"><polygon fill="none" points="411,713,421,703,659,703,659,808,649,818,411,818,411,713" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="649" x2="659" y1="713" y2="703"></line><line style="stroke:#181818;stroke-width:1;" x1="411" x2="649" y1="713" y2="713"></line><line style="stroke:#181818;stroke-width:1;" x1="649" x2="649" y1="713" y2="818"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172.7441" x="444.6279" y="730.5332">Serveur Base de Données</text></g><!--cluster CacheServer--><g class="cluster" data-entity="CacheServer" data-source-line="23" data-uid="ent0016" id="cluster_CacheServer"><polygon fill="none" points="16,713,26,703,190,703,190,808,180,818,16,818,16,713" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="180" x2="190" y1="713" y2="703"></line><line style="stroke:#181818;stroke-width:1;" x1="16" x2="180" y1="713" y2="713"></line><line style="stroke:#181818;stroke-width:1;" x1="180" x2="180" y1="713" y2="818"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="98.0547" x="49.9727" y="730.5332">Serveur Cache</text></g><!--cluster EventBrokerServer--><g class="cluster" data-entity="EventBrokerServer" data-source-line="27" data-uid="ent0018" id="cluster_EventBrokerServer"><polygon fill="none" points="1670,713,1680,703,1956,703,1956,808,1946,818,1670,818,1670,713" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1946" x2="1956" y1="713" y2="703"></line><line style="stroke:#181818;stroke-width:1;" x1="1670" x2="1946" y1="713" y2="713"></line><line style="stroke:#181818;stroke-width:1;" x1="1946" x2="1946" y1="713" y2="818"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143.1787" x="1737.4106" y="730.5332">Serveur Event Broker</text></g><!--cluster SupervisionServer--><g class="cluster" data-entity="SupervisionServer" data-source-line="31" data-uid="ent0020" id="cluster_SupervisionServer"><polygon fill="none" points="1805,55.64,1815,45.64,2171,45.64,2171,298,2161,308,1805,308,1805,55.64" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2161" x2="2171" y1="55.64" y2="45.64"></line><line style="stroke:#181818;stroke-width:1;" x1="1805" x2="2161" y1="55.64" y2="55.64"></line><line style="stroke:#181818;stroke-width:1;" x1="2161" x2="2161" y1="55.64" y2="308"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.165" x="1915.9175" y="73.1732">Serveur Supervision</text></g><!--entity Navigateur Web--><g class="entity" data-entity="Navigateur Web" data-source-line="2" data-uid="ent0003" id="entity_Navigateur Web"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.3789" x="1601" y="55"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1721.3789" y="60"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1719.3789" y="62"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1719.3789" y="66"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3789" x="1616" y="89.5332">Navigateur Web</text></g><!--entity NginxGateway--><g class="entity" data-entity="NginxGateway" data-source-line="6" data-uid="ent0005" id="entity_NginxGateway"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.2617" x="1481.5" y="226"></rect><polygon fill="#F1F1F1" points="1633.7617,231,1633.7617,245,1645.7617,245,1645.7617,237,1639.7617,231,1633.7617,231" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1639.7617" x2="1639.7617" y1="231" y2="237"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1645.7617" x2="1639.7617" y1="237" y2="237"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1491.5" y="253.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2617" x="1491.5" y="271.1426">- Nginx (API Gateway)</text></g><!--entity DjangoApp--><g class="entity" data-entity="DjangoApp" data-source-line="10" data-uid="ent0007" id="entity_DjangoApp"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="907" y="561"></rect><polygon fill="#F1F1F1" points="1071.6963,566,1071.6963,580,1083.6963,580,1083.6963,572,1077.6963,566,1071.6963,566" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1077.6963" x2="1077.6963" y1="566" y2="572"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1083.6963" x2="1077.6963" y1="572" y2="572"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="917" y="588.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="917" y="606.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7998" x="917" y="623.752">- API Caisse</text></g><!--entity ProduitService--><g class="entity" data-entity="ProduitService" data-source-line="11" data-uid="ent0008" id="entity_ProduitService"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="626" y="407"></rect><polygon fill="#F1F1F1" points="790.6963,412,790.6963,426,802.6963,426,802.6963,418,796.6963,412,790.6963,412" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="796.6963" x2="796.6963" y1="412" y2="418"></line><line style="stroke:#181818;stroke-width:0.5;" x1="802.6963" x2="796.6963" y1="418" y2="418"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="636" y="434.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="636" y="452.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3652" x="636" y="469.752">- API Produits</text></g><!--entity StockService--><g class="entity" data-entity="StockService" data-source-line="12" data-uid="ent0009" id="entity_StockService"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="690" y="561"></rect><polygon fill="#F1F1F1" points="854.6963,566,854.6963,580,866.6963,580,866.6963,572,860.6963,566,854.6963,566" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="860.6963" x2="860.6963" y1="566" y2="572"></line><line style="stroke:#181818;stroke-width:0.5;" x1="866.6963" x2="860.6963" y1="572" y2="572"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="700" y="588.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="700" y="606.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0205" x="700" y="623.752">- API Stocks</text></g><!--entity VenteService--><g class="entity" data-entity="VenteService" data-source-line="13" data-uid="ent0010" id="entity_VenteService"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="1124" y="561"></rect><polygon fill="#F1F1F1" points="1288.6963,566,1288.6963,580,1300.6963,580,1300.6963,572,1294.6963,566,1288.6963,566" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1294.6963" x2="1294.6963" y1="566" y2="572"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1300.6963" x2="1294.6963" y1="572" y2="572"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1134" y="588.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="1134" y="606.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5928" x="1134" y="623.752">- API Ventes</text></g><!--entity PanierService--><g class="entity" data-entity="PanierService" data-source-line="14" data-uid="ent0011" id="entity_PanierService"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="1341" y="561"></rect><polygon fill="#F1F1F1" points="1505.6963,566,1505.6963,580,1517.6963,580,1517.6963,572,1511.6963,566,1505.6963,566" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1511.6963" x2="1511.6963" y1="566" y2="572"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1517.6963" x2="1511.6963" y1="572" y2="572"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1351" y="588.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="1351" y="606.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4756" x="1351" y="623.752">- API Panier</text></g><!--entity ReportingService--><g class="entity" data-entity="ReportingService" data-source-line="15" data-uid="ent0012" id="entity_ReportingService"><rect fill="#F1F1F1" height="75.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.6963" x="1247" y="407"></rect><polygon fill="#F1F1F1" points="1411.6963,412,1411.6963,426,1423.6963,426,1423.6963,418,1417.6963,412,1411.6963,412" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1417.6963" x2="1417.6963" y1="412" y2="418"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1423.6963" x2="1417.6963" y1="418" y2="418"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1257" y="434.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="1257" y="452.1426">- Django (Microservices)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.71" x="1257" y="469.752">- API Reporting</text></g><!--entity SagaOrchestrator--><g class="entity" data-entity="SagaOrchestrator" data-source-line="16" data-uid="ent0013" id="entity_SagaOrchestrator"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.7236" x="947.5" y="416"></rect><polygon fill="#F1F1F1" points="1091.2236,421,1091.2236,435,1103.2236,435,1103.2236,427,1097.2236,421,1091.2236,421" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1097.2236" x2="1097.2236" y1="421" y2="427"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1103.2236" x2="1097.2236" y1="427" y2="427"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="957.5" y="443.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7236" x="957.5" y="461.1426">- Saga Orchestrateur</text></g><!--entity MySQLDB--><g class="entity" data-entity="MySQLDB" data-source-line="20" data-uid="ent0015" id="entity_MySQLDB"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.9375" x="465.5" y="744"></rect><polygon fill="#F1F1F1" points="587.4375,749,587.4375,763,599.4375,763,599.4375,755,593.4375,749,587.4375,749" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="593.4375" x2="593.4375" y1="749" y2="755"></line><line style="stroke:#181818;stroke-width:0.5;" x1="599.4375" x2="593.4375" y1="755" y2="755"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="475.5" y="771.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2275" x="475.5" y="789.1426">- MySQL</text></g><!--entity RedisCache--><g class="entity" data-entity="RedisCache" data-source-line="24" data-uid="ent0017" id="entity_RedisCache"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.9375" x="33.5" y="744"></rect><polygon fill="#F1F1F1" points="155.4375,749,155.4375,763,167.4375,763,167.4375,755,161.4375,749,155.4375,749" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="161.4375" x2="161.4375" y1="749" y2="755"></line><line style="stroke:#181818;stroke-width:0.5;" x1="167.4375" x2="161.4375" y1="755" y2="755"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="43.5" y="771.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.0273" x="43.5" y="789.1426">- Redis (Cache)</text></g><!--entity EventBroker--><g class="entity" data-entity="EventBroker" data-source-line="28" data-uid="ent0019" id="entity_EventBroker"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252.5166" x="1686.5" y="744"></rect><polygon fill="#F1F1F1" points="1922.0166,749,1922.0166,763,1934.0166,763,1934.0166,755,1928.0166,749,1922.0166,749" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1928.0166" x2="1928.0166" y1="749" y2="755"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1934.0166" x2="1928.0166" y1="755" y2="755"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1696.5" y="771.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222.5166" x="1696.5" y="789.1426">- Kafka / RabbitMQ / Redis Streams</text></g><!--entity Prometheus--><g class="entity" data-entity="Prometheus" data-source-line="32" data-uid="ent0021" id="entity_Prometheus"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.9375" x="2003.5" y="226"></rect><polygon fill="#F1F1F1" points="2125.4375,231,2125.4375,245,2137.4375,245,2137.4375,237,2131.4375,231,2125.4375,231" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="2131.4375" x2="2131.4375" y1="231" y2="237"></line><line style="stroke:#181818;stroke-width:0.5;" x1="2137.4375" x2="2131.4375" y1="237" y2="237"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="2013.5" y="253.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0342" x="2013.5" y="271.1426">- Prometheus</text></g><!--entity Grafana--><g class="entity" data-entity="Grafana" data-source-line="33" data-uid="ent0022" id="entity_Grafana"><rect fill="#F1F1F1" height="58.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138.9375" x="1829.5" y="226"></rect><polygon fill="#F1F1F1" points="1951.4375,231,1951.4375,245,1963.4375,245,1963.4375,237,1957.4375,231,1951.4375,231" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#181818;stroke-width:0.5;" x1="1957.4375" x2="1957.4375" y1="231" y2="237"></line><line style="stroke:#181818;stroke-width:0.5;" x1="1963.4375" x2="1957.4375" y1="237" y2="237"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.9375" x="1839.5" y="253.5332">Docker Container</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1377" x="1839.5" y="271.1426">- Grafana</text></g><!--entity Volume--><g class="entity" data-entity="Volume" data-source-line="73" data-uid="ent0047" id="entity_Volume"><ellipse cx="352" cy="912" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="328.2656" y="943.5332">Volume</text></g><!--link Client to NginxGateway--><g class="link" data-entity-1="Client" data-entity-2="NginxGateway" data-source-line="37" data-uid="lnk23" id="link_Client_NginxGateway"><path d="M1566,127.3632 C1566,127.5864 1566,127.8101 1566,128.0341 C1566,128.9305 1566,129.8337 1566,130.7435 C1566,132.5629 1566,134.4081 1566,136.275 C1566,166.145 1566,195.56 1566,219.69" fill="none" id="Client-to-NginxGateway" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1566,225.69,1570,216.69,1566,220.69,1562,216.69,1566,225.69" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.1646" x="1567" y="165.4951">HTTP/HTTPS</text></g><!--link NginxGateway to DjangoApp--><g class="link" data-entity-1="NginxGateway" data-entity-2="DjangoApp" data-source-line="40" data-uid="lnk24" id="link_NginxGateway_DjangoApp"><path d="M1577.87,284.26 C1599.06,339.7 1635.53,463.24 1572,531 C1536.59,568.77 1157.78,550.93 1107,561 C1101.12,562.17 1100.9275,562.0626 1094.9175,563.6226" fill="none" id="NginxGateway-to-DjangoApp" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1089.11,565.13,1098.8263,566.7405,1093.9496,563.8738,1096.8164,558.9971,1089.11,565.13" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.3018" x="1608" y="450.4951">API Caisse</text></g><!--link NginxGateway to ProduitService--><g class="link" data-entity-1="NginxGateway" data-entity-2="ProduitService" data-source-line="41" data-uid="lnk25" id="link_NginxGateway_ProduitService"><path d="M1481.37,263.47 C1358.26,275.69 1123.38,304.19 930,358 C884.66,370.61 841.3749,387.4833 801.9349,404.5833" fill="none" id="NginxGateway-to-ProduitService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="796.43,406.97,806.2784,407.0598,801.0174,404.981,803.0961,399.72,796.43,406.97" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.2554" x="1033" y="346.4951">API Produits</text></g><!--link NginxGateway to StockService--><g class="link" data-entity-1="NginxGateway" data-entity-2="StockService" data-source-line="42" data-uid="lnk26" id="link_NginxGateway_StockService"><path d="M1552.57,284.32 C1543.69,304.41 1532.68,332.27 1527,358 C1522.85,376.82 1528.77,517.52 1515,531 C1465.32,579.64 958.3,548.03 890,561 C884.11,562.12 883.9122,561.9907 877.9022,563.5307" fill="none" id="NginxGateway-to-StockService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="872.09,565.02,881.8012,566.6608,876.9335,563.7789,879.8155,558.9112,872.09,565.02" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.5781" x="1528" y="450.4951">API Stocks</text></g><!--link NginxGateway to VenteService--><g class="link" data-entity-1="NginxGateway" data-entity-2="VenteService" data-source-line="43" data-uid="lnk27" id="link_NginxGateway_VenteService"><path d="M1629.2,284.12 C1658.87,300.95 1691.31,325.46 1708,358 C1733.36,407.43 1729.26,431.67 1708,483 C1696.45,510.87 1687.33,518.23 1660,531 C1524.18,594.48 1470.69,530.02 1324,561 C1318.13,562.24 1317.9474,562.154 1311.9474,563.754" fill="none" id="NginxGateway-to-VenteService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1306.15,565.3,1315.8768,566.846,1310.9812,564.0117,1313.8155,559.1161,1306.15,565.3" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65.0381" x="1726" y="450.4951">API Ventes</text></g><!--link NginxGateway to PanierService--><g class="link" data-entity-1="NginxGateway" data-entity-2="PanierService" data-source-line="44" data-uid="lnk28" id="link_NginxGateway_PanierService"><path d="M1650.61,274.66 C1724.88,293.09 1824.23,323.47 1845,358 C1873.63,405.61 1866.52,431.78 1845,483 C1833.19,511.1 1823.06,516.96 1796,531 C1710.3,575.46 1605.7968,590.4117 1529.1368,595.5117" fill="none" id="NginxGateway-to-PanierService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1523.15,595.91,1532.3957,599.3038,1528.139,595.5781,1531.8646,591.3214,1523.15,595.91" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.1436" x="1864" y="450.4951">API Panier</text></g><!--link NginxGateway to ReportingService--><g class="link" data-entity-1="NginxGateway" data-entity-2="ReportingService" data-source-line="45" data-uid="lnk29" id="link_NginxGateway_ReportingService"><path d="M1481.25,278.88 C1449.92,290.67 1415.99,307.81 1391,332 C1369.9,352.43 1358.1728,377.2298 1350.0028,401.2398" fill="none" id="NginxGateway-to-ReportingService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1348.07,406.92,1354.756,399.6883,1349.6807,402.1865,1347.1825,397.1112,1348.07,406.92" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.9326" x="1392" y="346.4951">API Reporting</text></g><!--link SagaOrchestrator to StockService--><g class="link" data-entity-1="SagaOrchestrator" data-entity-2="StockService" data-source-line="48" data-uid="lnk30" id="link_SagaOrchestrator_StockService"><path d="M947.15,461.19 C846.69,480.16 688.1,510.45 686,513 C671.94,530.09 678.5084,543.2561 697.6484,557.2661" fill="none" id="SagaOrchestrator-to-StockService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="702.49,560.81,697.5903,552.2664,698.4554,557.8567,692.8651,558.7219,702.49,560.81" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.4644" x="687" y="527.4951">Vérification / Réservation stock (sync)</text></g><!--link SagaOrchestrator to VenteService--><g class="link" data-entity-1="SagaOrchestrator" data-entity-2="VenteService" data-source-line="49" data-uid="lnk31" id="link_SagaOrchestrator_VenteService"><path d="M1084.07,474.08 C1103.35,484.97 1124.47,498.35 1142,513 C1158.72,526.97 1171.0139,540.3192 1183.7939,556.1692" fill="none" id="SagaOrchestrator-to-VenteService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1187.56,560.84,1185.0247,551.3231,1184.4216,556.9477,1178.797,556.3445,1187.56,560.84" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.9199" x="1160" y="527.4951">Paiement (sync)</text></g><!--link SagaOrchestrator to PanierService--><g class="link" data-entity-1="SagaOrchestrator" data-entity-2="PanierService" data-source-line="50" data-uid="lnk32" id="link_SagaOrchestrator_PanierService"><path d="M1108.54,465.13 C1154.24,476.95 1212.09,493.57 1262,513 C1296.9,526.59 1328.9537,542.0484 1359.7437,558.1584" fill="none" id="SagaOrchestrator-to-PanierService" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1365.06,560.94,1358.94,553.2234,1360.6298,558.622,1355.2312,560.3118,1365.06,560.94" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.9434" x="1301" y="527.4951">Validation / Nettoyage panier (sync)</text></g><!--link SagaOrchestrator to DjangoApp--><g class="link" data-entity-1="SagaOrchestrator" data-entity-2="DjangoApp" data-source-line="51" data-uid="lnk33" id="link_SagaOrchestrator_DjangoApp"><path d="M957.02,474.15 C941.08,483.97 926.18,496.73 917,513 C907.18,530.4 912.2595,542.9506 927.8095,556.7306" fill="none" id="SagaOrchestrator-to-DjangoApp" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="932.3,560.71,928.2172,551.7473,928.5579,557.3939,922.9113,557.7346,932.3,560.71" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6289" x="918" y="527.4951">Confirmer / Annuler commande (sync)</text></g><!--link DjangoApp to MySQLDB--><g class="link" data-entity-1="DjangoApp" data-entity-2="MySQLDB" data-source-line="54" data-uid="lnk34" id="link_DjangoApp_MySQLDB"><path d="M943.56,637.11 C927.05,646.58 908.39,655.6 890,661 C830.2,678.56 810.22,652.96 750,669 C732.71,673.61 730.08,679.16 714,687 C674.42,706.29 635.0974,724.982 600.2374,741.412" fill="none" id="DjangoApp-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="594.81,743.97,604.6564,743.7513,599.3328,741.8383,601.2458,736.5147,594.81,743.97" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="751" y="683.4951">Connexion MySQL (port 3306)</text></g><!--link ProduitService to MySQLDB--><g class="link" data-entity-1="ProduitService" data-entity-2="MySQLDB" data-source-line="55" data-uid="lnk35" id="link_ProduitService_MySQLDB"><path d="M626,455.57 C504.98,470.38 301.04,503.35 256,561 C228.64,596.02 231.05,624.22 256,661 C302.53,729.59 392.9572,754.9048 459.2972,764.9148" fill="none" id="ProduitService-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="465.23,765.81,456.9275,760.512,460.286,765.064,455.7339,768.4224,465.23,765.81" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="257" y="604.4951">Connexion MySQL (port 3306)</text></g><!--link StockService to MySQLDB--><g class="link" data-entity-1="StockService" data-entity-2="MySQLDB" data-source-line="56" data-uid="lnk36" id="link_StockService_MySQLDB"><path d="M721.13,637.04 C703.08,646.51 682.79,655.54 663,661 C648.94,664.88 541.99,658.38 532,669 C513.61,688.54 516.1481,714.7819 522.7781,737.9319" fill="none" id="StockService-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="524.43,743.7,525.7975,733.9465,523.0534,738.8932,518.1067,736.1491,524.43,743.7" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="533" y="683.4951">Connexion MySQL (port 3306)</text></g><!--link VenteService to MySQLDB--><g class="link" data-entity-1="VenteService" data-entity-2="MySQLDB" data-source-line="57" data-uid="lnk37" id="link_VenteService_MySQLDB"><path d="M1160.56,637.11 C1144.04,646.58 1125.39,655.6 1107,661 C1047.63,678.45 1027.79,653.06 968,669 C950.72,673.61 948.88,681.08 932,687 C820.59,726.07 690.9426,749.503 610.5226,761.663" fill="none" id="VenteService-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="604.59,762.56,614.0869,765.1695,609.5338,761.8125,612.8908,757.2594,604.59,762.56" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="969" y="683.4951">Connexion MySQL (port 3306)</text></g><!--link PanierService to MySQLDB--><g class="link" data-entity-1="PanierService" data-entity-2="MySQLDB" data-source-line="58" data-uid="lnk38" id="link_PanierService_MySQLDB"><path d="M1377.56,637.1 C1361.04,646.57 1342.39,655.59 1324,661 C1265.06,678.33 1245.36,653.16 1186,669 C1168.72,673.61 1167.09,681.71 1150,687 C958.5,746.34 726.6135,764.0404 610.8435,769.4404" fill="none" id="PanierService-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="604.85,769.72,614.0266,773.2963,609.8446,769.487,613.6539,765.305,604.85,769.72" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="1187" y="683.4951">Connexion MySQL (port 3306)</text></g><!--link ReportingService to MySQLDB--><g class="link" data-entity-1="ReportingService" data-entity-2="MySQLDB" data-source-line="59" data-uid="lnk39" id="link_ReportingService_MySQLDB"><path d="M1246.75,464.13 C1209.44,470.96 1165.79,478.23 1126,483 C985.72,499.82 580.76,448.72 495,561 C453.47,615.37 489.0349,695.011 514.2049,738.701" fill="none" id="ReportingService-to-MySQLDB" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="517.2,743.9,516.1733,734.1048,514.704,739.5675,509.2413,738.0983,517.2,743.9" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="496" y="604.4951">Connexion MySQL (port 3306)</text></g><!--link StockService to RedisCache--><g class="link" data-entity-1="StockService" data-entity-2="RedisCache" data-source-line="62" data-uid="lnk40" id="link_StockService_RedisCache"><path d="M721.84,637.09 C703.63,646.69 683.09,655.78 663,661 C608.78,675.1 466.15,659.12 411,669 C324.7,684.46 235.1614,716.8881 173.7914,741.7381" fill="none" id="StockService-to-RedisCache" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="168.23,743.99,178.0733,744.3197,172.8645,742.1134,175.0708,736.9045,168.23,743.99" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6035" x="412" y="683.4951">Cache des stocks</text></g><!--link ProduitService to RedisCache--><g class="link" data-entity-1="ProduitService" data-entity-2="RedisCache" data-source-line="63" data-uid="lnk41" id="link_ProduitService_RedisCache"><path d="M625.75,449.55 C473.46,457.63 177.93,483.17 115,561 C72.55,613.5 83.557,693.6869 93.877,737.9269" fill="none" id="ProduitService-to-RedisCache" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="95.24,743.77,97.0909,734.0966,94.1041,738.9007,89.3,735.914,95.24,743.77" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.0107" x="116" y="604.4951">Cache des produits</text></g><!--link DjangoApp to EventBroker--><g class="link" data-entity-1="DjangoApp" data-entity-2="EventBroker" data-source-line="66" data-uid="lnk42" id="link_DjangoApp_EventBroker"><path d="M1052.01,637.1 C1068.88,646.75 1088.05,655.88 1107,661 C1154.95,673.96 1506.06,655.98 1554,669 C1569.75,673.28 1571.2,680.12 1586,687 C1632.17,708.47 1679.7522,726.6426 1723.0622,741.9326" fill="none" id="DjangoApp-to-EventBroker" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1728.72,743.93,1721.5649,737.1621,1724.0052,742.2655,1718.9017,744.7058,1728.72,743.93" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.4897" x="1587" y="683.4951">Publie événements commande</text></g><!--link StockService to EventBroker--><g class="link" data-entity-1="StockService" data-entity-2="EventBroker" data-source-line="67" data-uid="lnk43" id="link_StockService_EventBroker"><path d="M835.01,637.11 C851.88,646.77 871.05,655.89 890,661 C941.29,674.83 1316.73,655.11 1368,669 C1383.75,673.27 1384.71,681.29 1400,687 C1492.91,721.73 1597.2397,742.5979 1680.4597,755.3979" fill="none" id="StockService-to-EventBroker" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1686.39,756.31,1678.1027,750.9883,1681.4481,755.5499,1676.8865,758.8953,1686.39,756.31" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.5234" x="1401" y="683.4951">Publie événements stock</text></g><!--link VenteService to EventBroker--><g class="link" data-entity-1="VenteService" data-entity-2="EventBroker" data-source-line="68" data-uid="lnk44" id="link_VenteService_EventBroker"><path d="M1269.01,637.1 C1285.88,646.76 1305.05,655.88 1324,661 C1348.14,667.52 1753.55,654.61 1774,669 C1797.92,685.84 1806.303,713.4044 1809.883,737.6344" fill="none" id="VenteService-to-EventBroker" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1810.76,743.57,1813.4016,734.082,1810.0292,738.6237,1805.4875,735.2513,1810.76,743.57" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6606" x="1791" y="683.4951">Publie événements paiement</text></g><!--link PanierService to EventBroker--><g class="link" data-entity-1="PanierService" data-entity-2="EventBroker" data-source-line="69" data-uid="lnk45" id="link_PanierService_EventBroker"><path d="M1523.11,604.92 C1671.79,613.88 1953.12,635.14 1983,669 C2011.49,701.28 1977.4812,724.5063 1929.3412,741.9463" fill="none" id="PanierService-to-EventBroker" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1923.7,743.99,1933.5243,744.6853,1928.401,742.2869,1930.7994,737.1637,1923.7,743.99" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3188" x="1992" y="683.4951">Publie événements panier</text></g><!--link ReportingService to EventBroker--><g class="link" data-entity-1="ReportingService" data-entity-2="EventBroker" data-source-line="70" data-uid="lnk46" id="link_ReportingService_EventBroker"><path d="M1429.04,474.97 C1438.13,477.74 1447.24,480.45 1456,483 C1763.07,572.19 1956.3,415.35 2151,669 C2180.23,707.08 2053.3216,736.1231 1945.6616,753.7031" fill="none" id="ReportingService-to-EventBroker" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1939.74,754.67,1949.267,757.1673,1944.6746,753.8642,1947.9777,749.2719,1939.74,754.67" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0361" x="2145" y="604.4951">Consomme événements (projections)</text></g><!--link MySQLDB to Volume--><g class="link" data-entity-1="MySQLDB" data-entity-2="Volume" data-source-line="73" data-uid="lnk48" id="link_MySQLDB_Volume"><path d="M497.53,802.05 C454.23,834.46 390.6126,882.0934 366.0026,900.5234" fill="none" id="MySQLDB-to-Volume" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="361.2,904.12,370.8016,901.9269,365.2021,901.1229,366.0062,895.5234,361.2,904.12" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.9834" x="456" y="848.4951">Persistance des données</text></g><!--link RedisCache to Volume--><g class="link" data-entity-1="RedisCache" data-entity-2="Volume" data-source-line="74" data-uid="lnk49" id="link_RedisCache_Volume"><path d="M153.99,802.05 C214.89,835.56 307.0829,886.2881 337.4229,902.9781" fill="none" id="RedisCache-to-Volume" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="342.68,905.87,336.7223,898.0274,338.2991,903.4601,332.8664,905.0368,342.68,905.87" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.2935" x="244" y="848.4951">Persistance du cache</text></g><!--link SupervisionServer to Prometheus--><g class="link" data-entity-1="SupervisionServer" data-entity-2="Prometheus" data-source-line="77" data-uid="lnk50" id="link_SupervisionServer_Prometheus"><path d="M1938.1,80.13 C1941.12,84.03 2009.9122,172.6893 2047.3522,220.9493" fill="none" id="SupervisionServer-to-Prometheus" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2051.03,225.69,2048.6738,216.1272,2047.9652,221.7395,2042.3529,221.0309,2051.03,225.69" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.228" x="2006" y="165.4951">Collecte des métriques</text></g><!--link SupervisionServer to Grafana--><g class="link" data-entity-1="SupervisionServer" data-entity-2="Grafana" data-source-line="78" data-uid="lnk51" id="link_SupervisionServer_Grafana"><path d="M1937.95,80.02 C1935.83,80.77 1867.7,105.12 1845,151 C1832.38,176.52 1846.0406,200.6973 1864.4606,221.2973" fill="none" id="SupervisionServer-to-Grafana" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1868.46,225.77,1865.4427,216.3947,1865.1272,222.0428,1859.4791,221.7272,1868.46,225.77" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.4644" x="1846" y="165.4951">Affichage des métriques</text></g><!--SRC=[hLRDRXCn4BxlKunw8JcqGQh40I6a9a45GKleLkK072OR9t6RjHTxDxH2l0zvZhmOux6Jx4_QBcelZJqxt-Vn_7okqXC11uE552e_0BJWb_0x0lXsZaivmrmK1hwAyO_eJnGfzZyPVO1J-l0BxnX4-x1b89fSJZ79uM2eanjXOA1LZb89yrqTmlbCgbleb3YwJCBsODaT5GkpT06SPDb29aZ4_iGiuo-cnO73QrGp3PqpcHXj2IKJORlkYujXWD9QmQJUaQYVI3aoUbB8t39fsCJUwOdCSKuGpylBvs6zeeeBpyhBvs4TePB2-1pmydbeBqIc2QvcpBpTjIMFSORmsIHpONF3lUspIUQTLPjc0_RH2Y33K2krNeLq3Vkjk_3iBlxoYK6y6lQRHmoG0l1Jw5QjgI_4H5heCAWRqa8MtZTFURTq0zut-YPKXmr-t_h8ZpYzGUZ11Ox7CZ_xufOSHPmRWQcj4pV3Y8lCbSnAhNm5TllMKT1ifIAVYs8xQc7xAFBKu1GLCYoiNOWlo2jD2yLAezL63TySleMINaN1V4Zcich1QtX_UJdgkJ-n8ojXW6va8IstD6kWxKOL2iUvrI4Yt4bKqwygBS5v8pvDzx9Y16Ul9qtNiWm4LoyIUu8ep_Oc1hOrVUlJ6jotPfUpse1g0qcb9FPE9NEZbG1SYgIQqQW-nllkVRLU6JdTq57VhbSE7zYTBtJS8TtzRBNKZ52Ar3N3GvXwZgvm8IURyyz5dkixd0d8sEr1fd9hK4DFfKa9qOCJfOg5yBb2HNCMI2YX5Ha5J9BrN_efRc5CYcQZ7QFZ3zhasPMuTI6o3JgkHd1y_F9LDwerNdjWfHJjOPMS_qUObRItnpNQj3tKAOYJNTkywawJ7GV_JgWWre_WdfJU0yWs0zvGAzpDnb9YHUWfo6BSiyMuMojuIQDTDnTZaZPOhvRhbUA-jjkMQjxeSInVhbc-nu5P6AizDMm3PldPMyOgcaffwNerV8TIV2qIbrFB9HsHTakR2qKaIxqeKghlfX-EZaWJsEQYyOxe75sj9k6VXQXKo_i11IJyP3iLtBs6KVDb3E8V7Zk-ns910Vj3q_KgD_9duPfmBpGyU4vzfoI4SwSzDU0_]--></g></svg></p><hr>
<h2 id="8-concepts-transversaux">8. Concepts transversaux </h2>
<p>Dans le cadre de cette continuation à mon système, voici les concepts transversaux que j'aurais mis en pratique pour correctement répondre aux exigences.</p>
<p>Gestion des transactions distribuées avec Saga orchestrée.<br>
Pour assurer la cohérence des opérations réparties entre plusieurs microservices, il as été décidé que le pattern utilisé serait celui de la Saga orchestré synchrone. Ce choix permet:</p>
<ul>
<li>Une orchestration centralisée et contrôlée du flux métier.</li>
<li>La gestion explicite des états intermédiaires via une machine d’état.</li>
<li>Le déclenchement d’actions compensatoires en cas d’échec partiel.</li>
<li>La simplification du traitement des erreurs grâce à une coordination synchrone.<br>
De plus, ça garantit la cohérence des données sans fair de transaction bloquante.</li>
</ul>
<p>Architecture événementielle (Event Driven Architecture)<br>
L’architecture utilise un bus d’événements (Event Broker) (Kafka/RabbitMQ/Redis Streams) qui facilite :</p>
<ul>
<li>La publication et la consommation d’événements métier entre services.</li>
<li>Le découplage fort entre producteurs et consommateurs.</li>
<li>La possibilité d’ajouter aisément de nouveaux services consommateurs.</li>
<li>La mise en œuvre de patterns CQRS et Event Sourcing pour la gestion de l’état et des projections.<br>
Pour le choix technologique du bus d'évènements, j'ai listé les choix logiques mais aucune n'a été tranché pour l'instant.</li>
</ul>
<p>Pour ce qui est de la gestiond es erreurs, elles sont maintenant traitées à chaque étape par l'orchestrateur.<br>
Sinon, pour ce qui est du API gateway il n'a pas changé. Il s'agit encore de nginx.</p>
<hr>
<h2 id="9-décisions">9. Décisions </h2>
<p>En plus des ADR's disponibles dans le dossier de documentation, en voici spécifique aux changements que j'aurais voulu faire pour l'étape trois.</p>
<h4 id="adr-1--choix-du-pattern-saga-orchestrée-synchrone-pour-la-gestion-des-transactions-distribuées">ADR 1 : Choix du pattern Saga orchestrée synchrone pour la gestion des transactions distribuées </h4>
<h5 id="statut">Statut </h5>
<p>Accepté</p>
<h5 id="contexte">Contexte </h5>
<p>Le système doit gérer une transaction métier complexe répartie entre plusieurs microservices (stock, paiement, commande). La cohérence des données est critique.</p>
<h5 id="conséquences">Conséquences </h5>
<ul>
<li>Dépendance forte envers l’orchestrateur (point unique de contrôle).</li>
<li>Complexité ajoutée dans l’orchestrateur, qui doit gérer tous les scénarios d’échec.</li>
<li>Nécessite une communication synchrone robuste entre services.</li>
<li></li>
</ul>
<h5 id="conformité">Conformité </h5>
<p>Cette décision est conforme aux bonnes pratiques pour la gestion de transactions réparties via saga orchestrée. Elle s’intègre bien dans l’architecture microservices déjà en place, favorisant la robustesse et la maintenabilité.</p>
<h5 id="notes">Notes </h5>
<p>Ça permet les choses suivantes:</p>
<ul>
<li>Un contrôle précis et centralisé des étapes métier.</li>
<li>Simplifie la gestion des erreurs et des compensations.</li>
<li>Évite les blocages et verrous associés aux transactions distribuées classiques.</li>
<li>Facilite la traçabilité via une machine d’état persistée.</li>
</ul>
<h4 id="adr-2--adoption-de-kafka-comme-event-broker-pour-larchitecture-événementielle">ADR 2 : Adoption de Kafka comme Event Broker pour l’architecture événementielle </h4>
<h5 id="statut-1">Statut </h5>
<p>Accepté</p>
<h5 id="contexte-1">Contexte </h5>
<p>Le besoin d’assurer un découplage fort entre services, la scalabilité et la traçabilité des événements métier.</p>
<h5 id="conséquences-1">Conséquences </h5>
<ul>
<li>Complexité technique plus élevée que certains brokers légers.</li>
<li>Nécessité d’un bon dimensionnement et monitoring de la plateforme Kafka.</li>
<li>Développement de consommateurs idempotents pour gérer la consommation multiple.</li>
</ul>
<h5 id="conformité-1">Conformité </h5>
<p>Cette décision respecte les recommandations modernes d’architecture événementielle. Kafka est une solution robuste adaptée au besoin de scalabilité et résilience attendue.</p>
<h5 id="notes-1">Notes </h5>
<ul>
<li>Kafka offre une excellente scalabilité horizontale adaptée aux volumes croissants.</li>
<li>Il permet une persistance durable des événements et la relecture à tout moment.</li>
<li>La communauté et l’écosystème Kafka sont très matures, avec des outils bien supportés.</li>
<li>Kafka facilite la mise en œuvre de patterns CQRS et Event Sourcing.</li>
</ul>
<h4 id="adr-3--séparation-commandquery-cqrs-pour-optimiser-performances-et-maintenabilité">ADR 3 : Séparation Command/Query (CQRS) pour optimiser performances et maintenabilité </h4>
<h5 id="statut-2">Statut </h5>
<p>Accepté</p>
<h5 id="contexte-2">Contexte </h5>
<p>Les opérations de lecture et d’écriture ont des contraintes et besoins très différents.</p>
<h5 id="conséquences-2">Conséquences </h5>
<ul>
<li>Complexité accrue dans la gestion de la synchronisation des projections.</li>
<li>Nécessité de mécanismes de relecture et de mise à jour des vues.</li>
</ul>
<h5 id="conformité-2">Conformité </h5>
<p>Cette décision s’aligne sur les principes de conception recommandés pour les architectures distribuées complexes et répond aux objectifs liés à l’Event Sourcing et à la séparation des responsabilités.</p>
<h5 id="notes-2">Notes </h5>
<ul>
<li>Optimisation des performances des lectures.</li>
<li>Simplification de la logique métier dans les commandes.</li>
<li>Possibilité d’utiliser des technologies différentes pour les vues et les commandes.</li>
</ul>
<hr>
<h2 id="10-scénarios-de-qualité">10. Scénarios de qualité </h2>
<p>L'intégration de tout ce qui as été discuté dans ce rapport vont apporter énormément de bénéfices à mon application.</p>
<p>Résilience et gestion des pannes:<br>
Lorsqu’un paiement est refusé pendant la création d’une commande, la saga orchestrée détecte l’échec et déclenche des actions compensatoires (libération du stock réservé). L’orchestrateur met à jour la machine d’état pour refléter l’annulation et notifie les parties concernées. De cette manière, le stock est correctement libéré, la commande est annulée proprement, et l’utilisateur reçoit un message clair sur l’échec sans que le système global ne se bloque.</p>
<p>Performance et scalabilité:<br>
Plusieurs utilisateurs créent des commandes en parallèle. Les microservices de stock, produit et paiement traitent les requêtes, en tirant parti du cache Redis pour accélérer les lectures fréquentes. Le temps de réponse de la création de commande devrait rester sous les 500 ms en moyenne, avec une latence maximale tolérée à 1s, même sous charge.</p>
<p>Sécurité:<br>
Toutes les requêtes HTTP transitent via l’API Gateway (Nginx) qui applique TLS, contrôle les accès CORS, et authentifie les utilisateurs avant de router les appels aux microservices. Les communications sont chiffrées, les accès non autorisés sont bloqués, et les données sensibles ne sont jamais exposées en clair.</p>
<p>Extensibilité et maintenance:<br>
Un nouveau microservice de notification est ajouté, s’abonnant aux événements publiés sur Kafka, sans modifier les services existants. Le nouveau service fonctionne correctement, sans interruption ni modification des autres services, confirmant le découplage et la modularité de l’architecture.</p>
<p>Observabilité et traçabilité:<br>
Chaque événement métier (ex : StockRéservé, PaiementRéussi, CommandeConfirmée) est publié sur Kafka et collecté par Prometheus via des métriques personnalisées. Grafana affiche les statistiques en temps réel.</p>
<hr>
<h2 id="11-risques-et-dette-technique">11. Risques et dette technique </h2>
<p>Avant d'aller plus loins dansc ette section, il est important selon moi de préciser que l'état actuel de ce laboratoire est très probablement le résultat de l'accumulation de ma dette technique depuis les premiers laboratoire. Après des discussions avec le chargé de laboratoire et des commentaires de mon professeur, il est devenu évident qu'un mauvais respect du DDD m'a amené à avoir un couplage trop élevé. De plus, ça a rendu la séparation ens ervice beaucoup plus difficile que nécéssaire.</p>
<h3 id="risques-liés-à-la-gestion-des-transactions-distribuées">Risques liés à la gestion des transactions distribuées </h3>
<p>Complexité de l’orchestrateur Saga :<br>
L’orchestrateur central doit gérer plusieurs cas d’erreurs, compensations, et maintenir l’état exact des sagas. Cela peut devenir un point critique difficile à maintenir.<br>
Dépendance synchrone entre services :<br>
Le pattern Saga orchestrée synchrone implique des appels bloquants entre microservices. En cas de latence élevée ou indisponibilité d’un service, cela peut entraîner des ralentissements ou des erreurs globales.</p>
<h3 id="risques-liés-à-larchitecture-événementielle">Risques liés à l’architecture événementielle </h3>
<p>Gestion de la cohérence éventuelle :<br>
L’utilisation de Kafka et de l’Event Sourcing entraîne une cohérence éventuelle, ce qui peut complexifier la logique métier et causer des états transitoires inattendus.<br>
Complexité opérationnelle :<br>
La mise en place et la maintenance d’une infrastructure Kafka nécessitent des compétences spécifiques. Une mauvaise configuration peut provoquer des pertes de messages ou des ralentissements.</p>
<h3 id="dette-technique-liée-à-la-synchronisation-et-au-cache">Dette technique liée à la synchronisation et au cache </h3>
<p>Invalidation du cache Redis :<br>
Maintenir la cohérence entre la base de données principale et le cache Redis peut être complexe, surtout avec des mises à jour fréquentes. Une mauvaise invalidation peut entraîner des incohérences de données visibles par les utilisateurs.<br>
Duplication des données :<br>
Le cache et les projections CQRS introduisent une duplication des données qui doit être synchronisée en permanence, ce qui peut être source d’erreurs si mal géré.</p>
<h3 id="risques-de-scalabilité-et-montée-en-charge">Risques de scalabilité et montée en charge </h3>
<p>Surcharge des services synchrones :<br>
Le modèle synchronisé peut limiter la scalabilité horizontale, surtout si plusieurs services doivent attendre les réponses des autres dans la saga.<br>
Gestion des pics de charge Kafka :<br>
Le broker Kafka doit être correctement dimensionné pour absorber les pics d’événements, sinon il y a un risque de backlog et de dégradation.</p>
<h3 id="dette-technique-de-surveillance-et-instrumentation">Dette technique de surveillance et instrumentation </h3>
<p>Couverture métrique et logs :<br>
Une instrumentation incomplète des services ou des sagas peut rendre le diagnostic des problèmes difficile. Il faut veiller à une couverture complète et cohérente.<br>
Gestion des alertes :<br>
Sans une bonne politique d’alerting, les incidents critiques peuvent passer inaperçus, surtout avec la technologie de logs utilisé en ce moment. Elle pourrait être qualifiée de superficielle selon moi.</p>
<hr>
<h2 id="12-glossaire">12. Glossaire </h2>
<ul>
<li><strong>Caisse</strong> : point de vente utilisant l’application</li>
<li><strong>Panier</strong> : sélection temporaire de produits avant validation de la vente</li>
<li><strong>Vente</strong> : transaction enregistrée dans la base de données</li>
<li><strong>Produit</strong> : article vendable avec stock associé</li>
<li><strong>Magasin</strong> : lieu de vente physique ou virtuel</li>
<li><strong>Transaction</strong> : ensemble des opérations atomiques pour garantir la cohérence des données</li>
<li><strong>Session</strong> : instance utilisateur durant l’utilisation de la caisse</li>
<li><strong>Machine d’État</strong> : Modèle qui représente les différents états possibles d’une entité métier (ex : commande) et leurs transitions.</li>
<li><strong>Event Broker</strong> : Système assurant la diffusion asynchrone d’événements métier entre microservices (ex : Kafka).</li>
<li><strong>Cache Redis</strong> : Cache en mémoire utilisé pour accélérer l’accès aux données fréquemment consultées comme les stocks et produits.</li>
</ul>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>