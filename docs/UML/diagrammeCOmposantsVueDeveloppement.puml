@startuml
' Définition des composants principaux

package "Client" {
  [Web Browser] <<interface>>
}

package "src/caisse" {
  
  package "views" {
    [Views - caisse] 
    [Views - administration]
    [Views - panier]
    [Views - ventes]
  }

  package "services" {
    [ProduitService]
    [StockService]
    [VenteService]
    [MagasinService]
  }

  package "models" {
    [Produit]
    [Magasin]
    [Vente]
    [Stock]
  }

  [Templates] <<artifact>>
}

database "Base de données" as DB

' Relations entre composants

[Web Browser] --> [Views - caisse] : HTTP requests
[Web Browser] --> [Views - administration] : HTTP requests
[Web Browser] --> [Views - panier] : HTTP requests
[Web Browser] --> [Views - ventes] : HTTP requests

[Views - caisse] --> [ProduitService]
[Views - caisse] --> [StockService]
[Views - caisse] --> [MagasinService]

[Views - administration] --> [MagasinService]
[Views - administration] --> [VenteService]
[Views - administration] --> [ProduitService]
[Views - administration] --> [StockService]

[Views - panier] --> [StockService]
[Views - panier] --> [VenteService]

[Views - ventes] --> [VenteService]

[Views - caisse] --> [Templates]
[Views - administration] --> [Templates]
[Views - panier] --> [Templates]
[Views - ventes] --> [Templates]

[ProduitService] --> [Produit]
[StockService] --> [Stock]
[VenteService] --> [Vente]
[MagasinService] --> [Magasin]

[Produit] --> DB
[Magasin] --> DB
[Vente] --> DB
[Stock] --> DB

@enduml
